/*
 *  Copyright (C) 2025 Japan Style Water Objects V1
 *  This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.
 *  This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
 *  You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
*/

// define the newgrf
grf {
    grfid:                  "JPWO";
    name:                   string(STR_GRF_NAME);
    desc:                   string(STR_GRF_DESCRIPTION);
    version:                300;
    min_compatible_version: 1;
}
template template_flat_low_building(x,y,filename) {
    [x+14, y+2, 64, 44, -31, -13, ANIM, filename]
    [x+89, y+2, 64, 44, -31, -13, ANIM, filename]
    [x+164, y+2, 64, 44, -31, -13, ANIM, filename]
    [x+239, y+2, 64, 44, -31, -13, ANIM, filename]
}
template template_flat_low(x,y,filename) {
    [x+14, y+2, 64, 44, -31, -13, filename]
    [x+89, y+2, 64, 44, -31, -13, filename]
    [x+164, y+2, 64, 44, -31, -13, filename]
    [x+239, y+2, 64, 44, -31, -13, filename]
}
template template_tallflat(x,y,filename) {
    [x+14, y+2, 64, 244, -31, -213, filename]
    [x+89, y+2, 64, 244, -31, -213, filename]
    [x+164, y+2, 64, 244, -31, -213, filename]
    [x+239, y+2, 64, 244, -31, -213, filename]
}
/***************************************************
THIS ENTRY MUST BE THE FIRST OBJECT BEFORE ANY OTHERS
*****************************************************/

//spritesets with 4 directions, SNOW-version and the PURCHASE-menu
spriteset (spriteset_ObjectMenu) {
    template_flat_low(0,0,"gfx/flatlow.png")
}
alternative_sprites (spriteset_ObjectMenu, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_flat_low(0,0,"gfx/ObjectMenu_32.png")
}

spriteset (spriteset_ObjectMenu_SNOW) {
    template_flat_low(0,0,"gfx/flatlow.png")
}
alternative_sprites (spriteset_ObjectMenu_SNOW, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_flat_low(0,0,"gfx/ObjectMenu_32.png")
}

spriteset (spriteset_ObjectMenu_PURCHASE) {
    template_flat_low(0,0,"gfx/flatlow.png")
}
alternative_sprites (spriteset_ObjectMenu_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_flat_low(0,0,"gfx/ObjectMenu_32.png")
}

/* spritelayouts */

//Direction_1
spritelayout spritelayout_ObjectMenu_1 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_ObjectMenu(0);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 0;
    }

building {
        sprite: spriteset_ObjectMenu_SNOW(0);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 0;
    }

}

spritelayout spritelayout_ObjectMenu_1_purchase {
   ground {
        sprite: GROUNDSPRITE_NORMAL;
   }
   building {
      sprite: spriteset_ObjectMenu_PURCHASE(0);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 0;
   }
}



//Direction_2
spritelayout spritelayout_ObjectMenu_2 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_ObjectMenu(1);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 0;
    }

building {
        sprite: spriteset_ObjectMenu_SNOW(1);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 0;
    }

}

spritelayout spritelayout_ObjectMenu_2_purchase {
   ground {
        sprite: GROUNDSPRITE_NORMAL;
   }
   building {
      sprite: spriteset_ObjectMenu_PURCHASE(1);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 0;
   }
}

//Direction_3
spritelayout spritelayout_ObjectMenu_3 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_ObjectMenu(2);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 0;
    }

building {
        sprite: spriteset_ObjectMenu_SNOW(2);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 0;
    }

}

spritelayout spritelayout_ObjectMenu_3_purchase {
   ground {
        sprite: GROUNDSPRITE_NORMAL;
   }
   building {
      sprite: spriteset_ObjectMenu_PURCHASE(2);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 0;
   }
}


//Direction_4
spritelayout spritelayout_ObjectMenu_4 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_ObjectMenu(3);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 0;
    }

building {
        sprite: spriteset_ObjectMenu_SNOW(3);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 0;
    }

}

spritelayout spritelayout_ObjectMenu_4_purchase {
   ground {
        sprite: GROUNDSPRITE_NORMAL;
   }
   building {
      sprite: spriteset_ObjectMenu_PURCHASE(3);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 0;
   }
}

//decide spritelayout for each of the 4 directions
switch (FEAT_OBJECTS, SELF, switch_ObjectMenu_view, view) {
    1:  spritelayout_ObjectMenu_2;
    2:  spritelayout_ObjectMenu_3;
    3:  spritelayout_ObjectMenu_4;
    spritelayout_ObjectMenu_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_ObjectMenu_object, [
    STORE_TEMP(0, 0),
    STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
    STORE_TEMP(terrain_type == TILETYPE_DESERT ? GROUNDSPRITE_DESERT : LOAD_TEMP(1), 1),
    STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
    STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
    STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_ObjectMenu_view;
}

//calculate ground sprite for purchase menu
switch (FEAT_OBJECTS, SELF, switch_ObjectMenu_purchase, view) {
    1:  spritelayout_ObjectMenu_2_purchase;
    2:  spritelayout_ObjectMenu_3_purchase;
    3:  spritelayout_ObjectMenu_4_purchase;
    spritelayout_ObjectMenu_1_purchase;
}

item (FEAT_OBJECTS, ObjectMenu, 000) {
    property {
        class: "JPWO";
        classname: string(STR_JPWO);
        name: string(STR_ObjectMenu);
        climates_available: ALL_CLIMATES;
        size: [1,1];
        build_cost_multiplier: 0;
        remove_cost_multiplier: 2;
        introduction_date:      date(1111,1,1);
        end_of_life_date: 0xFFFFFFFF;
        object_flags: bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_ALLOW_BRIDGE, OBJ_FLAG_REMOVE_IS_INCOME);
        height: 0;
        num_views: 4;
     }
    graphics {
        default: switch_ObjectMenu_object;
        purchase: switch_ObjectMenu_purchase;
        autoslope: return CB_RESULT_AUTOSLOPE;

      }
}
//////harbor_tiles_0///////////////////
template template_wharves(x,y,filename) {
     [x+16, y+8, 64, 83, -31, -52, ANIM, filename]
    [x+96, y+8, 64, 83, -31, -52, ANIM, filename]
    [x+176, y+8, 64, 75, -31, -52, ANIM, filename]
    [x+256, y+8, 64, 75, -31, -52, ANIM, filename]
    [x+336, y+8, 64, 83, -31, -52, ANIM, filename]
    [x+416, y+8, 64, 83, -31, -52, ANIM, filename]
    [x+496, y+8, 64, 75, -31, -52, ANIM, filename]
    [x+576, y+8, 64, 75, -31, -52, ANIM, filename]
    [x+656, y+8, 64, 91, -31, -60, ANIM, filename]
    [x+736, y+8, 64, 91, -31, -60, ANIM, filename]
    [x+816, y+8, 64, 83, -31, -60, ANIM, filename]
    [x+896, y+8, 64, 83, -31, -60, ANIM, filename]
    [x+976, y+8, 64, 91, -31, -60, ANIM, filename]
    [x+1056, y+8, 64, 91, -31, -60, ANIM, filename]
    [x+1136, y+8, 64, 83, -31, -60, ANIM, filename]
    [x+1216, y+8, 64, 99, -31, -76, ANIM, filename]
    [x+1296, y+8, 64, 75, -31, -52, ANIM, filename]
    [x+1376, y+8, 64, 83, -31, -60, ANIM, filename]
    [x+1456, y+8, 64, 83, -31, -60, ANIM, filename]
}
template template_slopeaware_purchase(x,y,filename) {
    [x+5, y+5, 64, 100, -31, -61, ANIM, filename]
    [x+85, y+5, 64, 100, -31, -61, ANIM, filename]
    [x+165, y+5, 64, 100, -31, -61, ANIM, filename]
    [x+245, y+5, 64, 100, -31, -61, ANIM, filename]
	
}

spriteset (spriteset_harbor_tiles_0, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,) {
    template_wharves(0,0,"gfx/harbor_tiles_0.png")
}
spriteset (spriteset_harbor_tiles_0_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,) {
    template_wharves(0,0,"gfx/harbor_tiles_0_snow.png")
}
spriteset (spriteset_harbor_tiles_00, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,) {
    template_wharves(0,0,"gfx/harbor_tiles_00.png")
}
spriteset (spriteset_harbor_tiles_00_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,) {
    template_wharves(0,0,"gfx/harbor_tiles_00_snow.png")
}
spriteset (spriteset_harbor_tiles_0_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,) {
    template_slopeaware_purchase(0,0,"gfx/harbor_tiles_0_PURCHASE.png")
}
spriteset (spriteset_harbor_tiles_00_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,) {
    template_slopeaware_purchase(0,0,"gfx/harbor_tiles_0_PURCHASE.png")
}
/* spritelayouts */

//View_a


spritelayout spritelayout_harbor_tiles_0 {
	ground {
		// normal ground sprite - always draw
		sprite: LOAD_TEMP(0) + LOAD_TEMP(1) + slope_to_sprite_offset(nearby_tile_slope(0, 0));
	}

	childsprite {
		sprite: spriteset_harbor_tiles_0(slope_to_sprite_offset(nearby_tile_slope(0, 0)));
	}

    building {
        sprite: spriteset_harbor_tiles_0(slope_to_sprite_offset(nearby_tile_slope(0, 0)));
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 8;
    }

        childsprite {
                sprite: spriteset_harbor_tiles_0_snow(slope_to_sprite_offset(nearby_tile_slope(0, 0)));
                hide_sprite: nearby_tile_height(0, 0) < snowline_height;
    }

    building {
        sprite: spriteset_harbor_tiles_0_snow(slope_to_sprite_offset(nearby_tile_slope(0, 0)));
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 8;
    }
}

spritelayout spritelayout_harbor_tiles_00 {
	ground {
		// normal ground sprite - always draw
		sprite: LOAD_TEMP(0) + LOAD_TEMP(1) + slope_to_sprite_offset(nearby_tile_slope(0, 0));
	}

	childsprite {
		sprite: spriteset_harbor_tiles_00(slope_to_sprite_offset(nearby_tile_slope(0, 0)));
}

    building {
        sprite: spriteset_harbor_tiles_00(slope_to_sprite_offset(nearby_tile_slope(0, 0)));
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 8;
    }

        childsprite {
                sprite: spriteset_harbor_tiles_00_snow(slope_to_sprite_offset(nearby_tile_slope(0, 0)));
                hide_sprite: nearby_tile_height(0, 0) < snowline_height;
    }

    building {
        sprite: spriteset_harbor_tiles_00_snow(slope_to_sprite_offset(nearby_tile_slope(0, 0)));
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 8;
    }

}

//decide spritelayout for each of the view
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_0_view, view) {
      1:  spritelayout_harbor_tiles_00;
    //2:  spritelayout_harbor_tiles_0_c;
    //3:  spritelayout_harbor_tiles_0_d;
    spritelayout_harbor_tiles_0;
}
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_0_object, [
    STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
    STORE_TEMP( (nearby_tile_terrain_type(0,0) == TILETYPE_DESERT) * GROUNDSPRITE_DESERT, 1),
    STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 1, 0) == TILETYPE_DESERT), 1),
    STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type(-1, 0) == TILETYPE_DESERT), 1),
    STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0, 1) == TILETYPE_DESERT), 1),
    STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0,-1) == TILETYPE_DESERT), 1),
    STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * GROUNDSPRITE_NORMAL, 1),
    STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
    STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
    STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_harbor_tiles_0_view;
}
spritelayout spritelayout_harbor_tiles_0_1_purchase {
	ground {
        sprite: GROUNDSPRITE_NORMAL;
	}
	building {
		sprite: spriteset_harbor_tiles_0_PURCHASE(0);
	}
}

spritelayout spritelayout_harbor_tiles_00_2_purchase {
	ground {
        sprite: GROUNDSPRITE_NORMAL;
	}
	building {
		sprite: spriteset_harbor_tiles_00_PURCHASE(1);
	}
}

//calculate ground sprite for purchase menu
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_0_purchase, view) {
    1:  spritelayout_harbor_tiles_00_2_purchase;
    //2:  spritelayout_harbor_tiles_0_3_purchase;
    //3:  spritelayout_harbor_tiles_0_4_purchase;
    spritelayout_harbor_tiles_0_1_purchase;
}
item (FEAT_OBJECTS, harbor_tiles_0, 001) {
    property {
        class: "HBTL";
        classname: string(STR_HBTL);
        name: string(STR_harbor_tiles_0);
        climates_available: ALL_CLIMATES;
        size: [1,1];
        build_cost_multiplier: 0;
        remove_cost_multiplier: 0;
        introduction_date:      date(1111,1,1);
        end_of_life_date: 0xFFFFFFFF;
        object_flags: bitmask(OBJ_FLAG_ON_WATER, OBJ_FLAG_DRAW_WATER, OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_NO_FOUNDATIONS, OBJ_FLAG_ALLOW_BRIDGE, OBJ_FLAG_REMOVE_IS_INCOME);
        height: 0;
        num_views: 2;
     }
    graphics {
        default: switch_harbor_tiles_0_object;
        purchase: switch_harbor_tiles_0_purchase;
        tile_check: return(CB_RESULT_LOCATION_ALLOW);
     }
}

//////////harbor tiles 1///////////////
template template_tallflat_m(x,y,filename) {
    [x+14, y+2, 64, 244, -31, -213, filename]
    [x+89, y+2, 64, 244, -31, -213, filename]
    [x+164, y+2, 64, 244, -31, -213, filename]
    [x+239, y+2, 64, 244, -31, -213, filename]
}

spriteset (spriteset_harbor_tiles_1) {
    template_tallflat_m(0,0,"gfx/tallflat_8.png")
}
alternative_sprites (spriteset_harbor_tiles_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_1.png")
}

spriteset (spriteset_harbor_tiles_1_SNOW) {
    template_tallflat_m(0,0,"gfx/tallflat_8_SNOW.png")
}
alternative_sprites (spriteset_harbor_tiles_1_SNOW, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_1_snow.png")
}

spriteset (spriteset_harbor_tiles_1_PURCHASE) {
    template_tallflat_m(0,0,"gfx/tallflat_8.png")
}
alternative_sprites (spriteset_harbor_tiles_1_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_1.png")
}

/* spritelayouts */

//Direction_1
spritelayout spritelayout_harbor_tiles_1_1 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_1(0);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_1_SNOW(0);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_1_1_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_1_PURCHASE(0);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}



//Direction_2
spritelayout spritelayout_harbor_tiles_1_2 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_1(1);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_1_SNOW(1);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_1_2_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_1_PURCHASE(1);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}

//Direction_3
spritelayout spritelayout_harbor_tiles_1_3 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_1(2);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_1_SNOW(2);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_1_3_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_1_PURCHASE(2);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}


//Direction_4
spritelayout spritelayout_harbor_tiles_1_4 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_1(3);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_1_SNOW(3);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_1_4_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_1_PURCHASE(3);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}

//decide spritelayout for each of the 4 directions
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_1_view, view) {
    1:  spritelayout_harbor_tiles_1_2;
    2:  spritelayout_harbor_tiles_1_3;
    3:  spritelayout_harbor_tiles_1_4;
    spritelayout_harbor_tiles_1_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_1_object, [
//  STORE_TEMP(slope_to_sprite_offset(tile_slope), 0),
    STORE_TEMP(0, 0),
    STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
    STORE_TEMP(terrain_type == TILETYPE_DESERT ? GROUNDSPRITE_DESERT : LOAD_TEMP(1), 1),
    STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
    STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
    STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_harbor_tiles_1_view;
}

//calculate ground sprite for purchase menu
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_1_purchase, view) {
    1:  spritelayout_harbor_tiles_1_2_purchase;
    2:  spritelayout_harbor_tiles_1_3_purchase;
    3:  spritelayout_harbor_tiles_1_4_purchase;
    spritelayout_harbor_tiles_1_1_purchase;
}

item (FEAT_OBJECTS, harbor_tiles_1, 002) {
    property {
        class: "HBTL";
        classname: string(STR_HBTL);
        name: string(STR_harbor_tiles_1);
        climates_available: ALL_CLIMATES;
        size: [1,1];
        build_cost_multiplier: 1;
        remove_cost_multiplier: 4;
        introduction_date:      date(1700,1,1);
        end_of_life_date: 0xFFFFFFFF;
        object_flags: bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER, OBJ_FLAG_DRAW_WATER);
        height: 2;
        num_views: 4;
     }
    graphics {
        default: switch_harbor_tiles_1_object;
        purchase: switch_harbor_tiles_1_purchase;
        autoslope: return CB_RESULT_AUTOSLOPE;

      }
}
//////////harbor tiles 2///////////////
spriteset (spriteset_harbor_tiles_2) {
    template_tallflat_m(0,0,"gfx/tallflat_8.png")
}
alternative_sprites (spriteset_harbor_tiles_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_2.png")
}

spriteset (spriteset_harbor_tiles_2_SNOW) {
    template_tallflat_m(0,0,"gfx/tallflat_8_SNOW.png")
}
alternative_sprites (spriteset_harbor_tiles_2_SNOW, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_2_snow.png")
}

spriteset (spriteset_harbor_tiles_2_PURCHASE) {
    template_tallflat_m(0,0,"gfx/tallflat_8.png")
}
alternative_sprites (spriteset_harbor_tiles_2_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_2.png")
}

/* spritelayouts */

//Direction_1
spritelayout spritelayout_harbor_tiles_2_1 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_2(0);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_2_SNOW(0);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_2_1_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_2_PURCHASE(0);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}



//Direction_2
spritelayout spritelayout_harbor_tiles_2_2 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_2(1);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_2_SNOW(1);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_2_2_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_2_PURCHASE(1);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}

//Direction_3
spritelayout spritelayout_harbor_tiles_2_3 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_2(2);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_2_SNOW(2);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_2_3_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_2_PURCHASE(2);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}


//Direction_4
spritelayout spritelayout_harbor_tiles_2_4 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_2(3);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_2_SNOW(3);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_2_4_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_2_PURCHASE(3);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}

//decide spritelayout for each of the 4 directions
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_2_view, view) {
    1:  spritelayout_harbor_tiles_2_2;
    2:  spritelayout_harbor_tiles_2_3;
    3:  spritelayout_harbor_tiles_2_4;
    spritelayout_harbor_tiles_2_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_2_object, [
//  STORE_TEMP(slope_to_sprite_offset(tile_slope), 0),
    STORE_TEMP(0, 0),
    STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
    STORE_TEMP(terrain_type == TILETYPE_DESERT ? GROUNDSPRITE_DESERT : LOAD_TEMP(1), 1),
    STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
    STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
    STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_harbor_tiles_2_view;
}

//calculate ground sprite for purchase menu
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_2_purchase, view) {
    1:  spritelayout_harbor_tiles_2_2_purchase;
    2:  spritelayout_harbor_tiles_2_3_purchase;
    3:  spritelayout_harbor_tiles_2_4_purchase;
    spritelayout_harbor_tiles_2_1_purchase;
}

item (FEAT_OBJECTS, harbor_tiles_2, 003) {
    property {
        class: "HBTL";
        classname: string(STR_HBTL);
        name: string(STR_harbor_tiles_2);
        climates_available: ALL_CLIMATES;
        size: [1,1];
        build_cost_multiplier: 1;
        remove_cost_multiplier: 4;
        introduction_date:      date(1700,1,1);
        end_of_life_date: 0xFFFFFFFF;
        object_flags: bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER);
        height: 2;
        num_views: 4;
     }
    graphics {
        default: switch_harbor_tiles_2_object;
        purchase: switch_harbor_tiles_2_purchase;
        autoslope: return CB_RESULT_AUTOSLOPE;

      }
}
//////////harbor tiles 3///////////////
spriteset (spriteset_harbor_tiles_3) {
    template_tallflat_m(0,0,"gfx/tallflat_8.png")
}
alternative_sprites (spriteset_harbor_tiles_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_3.png")
}

spriteset (spriteset_harbor_tiles_3_SNOW) {
    template_tallflat_m(0,0,"gfx/tallflat_8_SNOW.png")
}
alternative_sprites (spriteset_harbor_tiles_3_SNOW, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_3_snow.png")
}

spriteset (spriteset_harbor_tiles_3_PURCHASE) {
    template_tallflat_m(0,0,"gfx/tallflat_8.png")
}
alternative_sprites (spriteset_harbor_tiles_3_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_3.png")
}

/* spritelayouts */

//Direction_1
spritelayout spritelayout_harbor_tiles_3_1 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_3(0);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_3_SNOW(0);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_3_1_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_3_PURCHASE(0);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}



//Direction_2
spritelayout spritelayout_harbor_tiles_3_2 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_3(1);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_3_SNOW(1);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_3_2_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_3_PURCHASE(1);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}

//Direction_3
spritelayout spritelayout_harbor_tiles_3_3 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_3(2);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_3_SNOW(2);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_3_3_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_3_PURCHASE(2);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}


//Direction_4
spritelayout spritelayout_harbor_tiles_3_4 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_3(3);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_3_SNOW(3);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_3_4_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_3_PURCHASE(3);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}

//decide spritelayout for each of the 4 directions
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_3_view, view) {
    1:  spritelayout_harbor_tiles_3_2;
    2:  spritelayout_harbor_tiles_3_3;
    3:  spritelayout_harbor_tiles_3_4;
    spritelayout_harbor_tiles_3_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_3_object, [
//  STORE_TEMP(slope_to_sprite_offset(tile_slope), 0),
    STORE_TEMP(0, 0),
    STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
    STORE_TEMP(terrain_type == TILETYPE_DESERT ? GROUNDSPRITE_DESERT : LOAD_TEMP(1), 1),
    STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
    STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
    STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_harbor_tiles_3_view;
}

//calculate ground sprite for purchase menu
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_3_purchase, view) {
    1:  spritelayout_harbor_tiles_3_2_purchase;
    2:  spritelayout_harbor_tiles_3_3_purchase;
    3:  spritelayout_harbor_tiles_3_4_purchase;
    spritelayout_harbor_tiles_3_1_purchase;
}

item (FEAT_OBJECTS, harbor_tiles_3, 004) {
    property {
        class: "HBTL";
        classname: string(STR_HBTL);
        name: string(STR_harbor_tiles_3);
        climates_available: ALL_CLIMATES;
        size: [1,1];
        build_cost_multiplier: 1;
        remove_cost_multiplier: 4;
        introduction_date:      date(1700,1,1);
        end_of_life_date: 0xFFFFFFFF;
        object_flags: bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER, OBJ_FLAG_DRAW_WATER);
        height: 2;
        num_views: 4;
     }
    graphics {
        default: switch_harbor_tiles_3_object;
        purchase: switch_harbor_tiles_3_purchase;
        autoslope: return CB_RESULT_AUTOSLOPE;

      }
}
//////////harbor tiles 4///////////////
spriteset (spriteset_harbor_tiles_4) {
    template_tallflat_m(0,0,"gfx/tallflat_8.png")
}
alternative_sprites (spriteset_harbor_tiles_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_4.png")
}

spriteset (spriteset_harbor_tiles_4_SNOW) {
    template_tallflat_m(0,0,"gfx/tallflat_8_SNOW.png")
}
alternative_sprites (spriteset_harbor_tiles_4_SNOW, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_4_snow.png")
}

spriteset (spriteset_harbor_tiles_4_PURCHASE) {
    template_tallflat_m(0,0,"gfx/tallflat_8.png")
}
alternative_sprites (spriteset_harbor_tiles_4_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_4.png")
}

/* spritelayouts */

//Direction_1
spritelayout spritelayout_harbor_tiles_4_1 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_4(0);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_4_SNOW(0);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_4_1_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_4_PURCHASE(0);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}



//Direction_2
spritelayout spritelayout_harbor_tiles_4_2 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_4(1);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_4_SNOW(1);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_4_2_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_4_PURCHASE(1);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}

//Direction_3
spritelayout spritelayout_harbor_tiles_4_3 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_4(2);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_4_SNOW(2);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_4_3_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_4_PURCHASE(2);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}


//Direction_4
spritelayout spritelayout_harbor_tiles_4_4 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_4(3);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_4_SNOW(3);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_4_4_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_4_PURCHASE(3);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}

//decide spritelayout for each of the 4 directions
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_4_view, view) {
    1:  spritelayout_harbor_tiles_4_2;
    2:  spritelayout_harbor_tiles_4_3;
    3:  spritelayout_harbor_tiles_4_4;
    spritelayout_harbor_tiles_4_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_4_object, [
//  STORE_TEMP(slope_to_sprite_offset(tile_slope), 0),
    STORE_TEMP(0, 0),
    STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
    STORE_TEMP(terrain_type == TILETYPE_DESERT ? GROUNDSPRITE_DESERT : LOAD_TEMP(1), 1),
    STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
    STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
    STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_harbor_tiles_4_view;
}

//calculate ground sprite for purchase menu
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_4_purchase, view) {
    1:  spritelayout_harbor_tiles_4_2_purchase;
    2:  spritelayout_harbor_tiles_4_3_purchase;
    3:  spritelayout_harbor_tiles_4_4_purchase;
    spritelayout_harbor_tiles_4_1_purchase;
}

item (FEAT_OBJECTS, harbor_tiles_4, 005) {
    property {
        class: "HBTL";
        classname: string(STR_HBTL);
        name: string(STR_harbor_tiles_4);
        climates_available: ALL_CLIMATES;
        size: [1,1];
        build_cost_multiplier: 1;
        remove_cost_multiplier: 4;
        introduction_date:      date(1700,1,1);
        end_of_life_date: 0xFFFFFFFF;
        object_flags: bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER, OBJ_FLAG_DRAW_WATER);
        height: 2;
        num_views: 4;
     }
    graphics {
        default: switch_harbor_tiles_4_object;
        purchase: switch_harbor_tiles_4_purchase;
        autoslope: return CB_RESULT_AUTOSLOPE;

      }
}
//////////harbor tiles 5///////////////
template templatetall_2x1b_purchase(x,y,filename) {
    [x+32, y, 64, 244, -64, -213, filename]
    [x+106, y, 64, 244, -64, -213, filename]
    [x+244, y, 64, 244, -64, -213, filename]
    [x+318, y, 64, 244, -64, -213, filename]

}

//template for sprite tile.1
template templatetall_2x1b_t1(x,y,filename) {
    [x+32, y, 64, 244, -31, -197, filename]
    [x+106, y, 64, 244, -31, -197, filename]
    [x+244, y, 64, 244, -31, -197, filename]
    [x+318, y, 64, 244, -31, -197, filename]
	
}

//template for sprite tile.2
template templatetall_2x1b_t2(x,y,filename) {
    [x, y, 64, 244, -31, -213, filename]
    [x+138, y, 64, 244, -31, -213, filename]
    [x+212, y, 64, 244, -31, -213, filename]
    [x+350, y, 64, 244, -31, -213, filename]

}
spriteset (spriteset_harbor_tiles_5_t1) {
    templatetall_2x1b_t1(0,0,"gfx/test2x1tall_8.png")
}

alternative_sprites (spriteset_harbor_tiles_5_t1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    templatetall_2x1b_t1(0,0,"gfx/harbor_tiles_5.png")
}

spriteset (spriteset_harbor_tiles_5_t2) {
    templatetall_2x1b_t2(0,0,"gfx/test2x1tall_8.png")
}

alternative_sprites (spriteset_harbor_tiles_5_t2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    templatetall_2x1b_t2(0,0,"gfx/harbor_tiles_5.png")
}

spriteset (spriteset_harbor_tiles_5_t1_SNOW) {
    templatetall_2x1b_t1(0,0,"gfx/test2x1tall_8_SNOW.png")
}

alternative_sprites (spriteset_harbor_tiles_5_t1_SNOW, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    templatetall_2x1b_t1(0,0,"gfx/harbor_tiles_5_snow.png")
}

spriteset (spriteset_harbor_tiles_5_t2_SNOW) {
    templatetall_2x1b_t2(0,0,"gfx/test2x1tall_8_SNOW.png")
}

alternative_sprites (spriteset_harbor_tiles_5_t2_SNOW, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    templatetall_2x1b_t2(0,0,"gfx/harbor_tiles_5_snow.png")
}

spriteset (spriteset_harbor_tiles_5_PURCHASE) {
    templatetall_2x1b_purchase(0,0,"gfx/test2x1tall_8.png")
}


alternative_sprites (spriteset_harbor_tiles_5_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    templatetall_2x1b_purchase(0,0,"gfx/harbor_tiles_5.png")
}


//View_1
spritelayout spritelayout_harbor_tiles_5_t1_view1 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_5_t1(0);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_harbor_tiles_5_t1_SNOW(0);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_5_t2_view1 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_5_t2(0);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_harbor_tiles_5_t2_SNOW(0);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_5_view1_purchase {
	ground {
        sprite: GROUNDSPRITE_NORMAL;
	}
	building {
		sprite: spriteset_harbor_tiles_5_PURCHASE(0);
		xoffset: 0; //from NE edge
                yoffset: 16; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
	}
}

//View_2
spritelayout spritelayout_harbor_tiles_5_t1_view2 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_5_t1(1);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_harbor_tiles_5_t1_SNOW(1);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_5_t2_view2 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_5_t2(1);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_harbor_tiles_5_t2_SNOW(1);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_5_view2_purchase {
	ground {
        sprite: GROUNDSPRITE_NORMAL;
	}
	building {
		sprite: spriteset_harbor_tiles_5_PURCHASE(1);
		xoffset: 0; //from NE edge
                yoffset: 16; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
	}
}

//View_3
spritelayout spritelayout_harbor_tiles_5_t1_view3 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_5_t1(2);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_harbor_tiles_5_t1_SNOW(2);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_5_t2_view3 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_5_t2(2);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_harbor_tiles_5_t2_SNOW(2);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}


spritelayout spritelayout_harbor_tiles_5_view3_purchase {
	ground {
        sprite: GROUNDSPRITE_NORMAL;
	}
	building {
		sprite: spriteset_harbor_tiles_5_PURCHASE(2);
		xoffset: 0; //from NE edge
                yoffset: 16; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
	}
}


//View_4
spritelayout spritelayout_harbor_tiles_5_t1_view4 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_5_t1(3);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_harbor_tiles_5_t1_SNOW(3);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_5_t2_view4 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_5_t2(3);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_harbor_tiles_5_t2_SNOW(3);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_5_view4_purchase {
	ground {
        sprite: GROUNDSPRITE_NORMAL;
	}
	building {
		sprite: spriteset_harbor_tiles_5_PURCHASE(3);
		xoffset: 0; //from NE edge
                yoffset: 16; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
	}
}

//select correct sprites for position of the tiles for the four views
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_5_position_view1, relative_pos) {
	relative_coord(0, 0): spritelayout_harbor_tiles_5_t1_view1;
	relative_coord(1, 0): spritelayout_harbor_tiles_5_t2_view1;

    spritelayout_harbor_tiles_5_t1_view1;
    }

switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_5_position_view2, relative_pos) {
	relative_coord(0, 0): spritelayout_harbor_tiles_5_t1_view2;
	relative_coord(0, 1): spritelayout_harbor_tiles_5_t2_view2;

    spritelayout_harbor_tiles_5_t1_view2;
    }

switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_5_position_view3, relative_pos) {
	relative_coord(0, 0): spritelayout_harbor_tiles_5_t1_view3;
	relative_coord(1, 0): spritelayout_harbor_tiles_5_t2_view3;

    spritelayout_harbor_tiles_5_t1_view3;
    }

switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_5_position_view4, relative_pos) {
	relative_coord(0, 0) : spritelayout_harbor_tiles_5_t1_view4;
	relative_coord(0, 1) : spritelayout_harbor_tiles_5_t2_view4;

    spritelayout_harbor_tiles_5_t1_view4;
    }
 
//decide spritelayout for each of the 4 directions
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_5_view, view) {
    1:  switch_harbor_tiles_5_position_view2;
    2:  switch_harbor_tiles_5_position_view3;
    3:  switch_harbor_tiles_5_position_view4;
    switch_harbor_tiles_5_position_view1;
}


//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_5_object, [
    STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
    STORE_TEMP( (nearby_tile_terrain_type(0,0) == TILETYPE_DESERT) * GROUNDSPRITE_DESERT, 1),
    STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 1, 0) == TILETYPE_DESERT), 1),
    STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type(-1, 0) == TILETYPE_DESERT), 1),
    STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0, 1) == TILETYPE_DESERT), 1),
    STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0,-1) == TILETYPE_DESERT), 1),
    STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * GROUNDSPRITE_NORMAL, 1),
    STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
    STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
    STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_harbor_tiles_5_view;
}

//calculate ground sprite for purchase menu
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_5_purchase, view) {
    1:  spritelayout_harbor_tiles_5_view2_purchase;
    2:  spritelayout_harbor_tiles_5_view3_purchase;
    3:  spritelayout_harbor_tiles_5_view4_purchase;
    spritelayout_harbor_tiles_5_view1_purchase;
}

item (FEAT_OBJECTS, harbor_tiles_5, 006) {
    property {
        class: "HBTL";
        classname: string(STR_HBTL);
        name: string(STR_harbor_tiles_5);
        climates_available: ALL_CLIMATES;
        size: [2,1];
        build_cost_multiplier: 1;
        remove_cost_multiplier: 4;
        introduction_date: date(1700,1,1);
        end_of_life_date: 0xFFFFFFFF;
        object_flags: bitmask(OBJ_FLAG_ALLOW_BRIDGE, OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER, OBJ_FLAG_DRAW_WATER);
        height: 0;
        num_views: 4;
     }
    graphics {
        default: switch_harbor_tiles_5_object;
        purchase: switch_harbor_tiles_5_purchase;

      }
}
//////////harbor tiles 6///////////////
spriteset (spriteset_harbor_tiles_6) {
    template_tallflat_m(0,0,"gfx/tallflat_8.png")
}
alternative_sprites (spriteset_harbor_tiles_6, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_6.png")
}

spriteset (spriteset_harbor_tiles_6_SNOW) {
    template_tallflat_m(0,0,"gfx/tallflat_8_SNOW.png")
}
alternative_sprites (spriteset_harbor_tiles_6_SNOW, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_6_snow.png")
}

spriteset (spriteset_harbor_tiles_6_PURCHASE) {
    template_tallflat_m(0,0,"gfx/tallflat_8.png")
}
alternative_sprites (spriteset_harbor_tiles_6_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_6.png")
}

/* spritelayouts */

//Direction_1
spritelayout spritelayout_harbor_tiles_6_1 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_6(0);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_6_SNOW(0);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_6_1_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_6_PURCHASE(0);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}



//Direction_2
spritelayout spritelayout_harbor_tiles_6_2 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_6(1);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_6_SNOW(1);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_6_2_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_6_PURCHASE(1);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}

//Direction_3
spritelayout spritelayout_harbor_tiles_6_3 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_6(2);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_6_SNOW(2);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_6_3_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_6_PURCHASE(2);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}


//Direction_4
spritelayout spritelayout_harbor_tiles_6_4 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_6(3);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_6_SNOW(3);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_6_4_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_6_PURCHASE(3);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}

//decide spritelayout for each of the 4 directions
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_6_view, view) {
    1:  spritelayout_harbor_tiles_6_2;
    2:  spritelayout_harbor_tiles_6_3;
    3:  spritelayout_harbor_tiles_6_4;
    spritelayout_harbor_tiles_6_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_6_object, [
//  STORE_TEMP(slope_to_sprite_offset(tile_slope), 0),
    STORE_TEMP(0, 0),
    STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
    STORE_TEMP(terrain_type == TILETYPE_DESERT ? GROUNDSPRITE_DESERT : LOAD_TEMP(1), 1),
    STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
    STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
    STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_harbor_tiles_6_view;
}

//calculate ground sprite for purchase menu
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_6_purchase, view) {
    1:  spritelayout_harbor_tiles_6_2_purchase;
    2:  spritelayout_harbor_tiles_6_3_purchase;
    3:  spritelayout_harbor_tiles_6_4_purchase;
    spritelayout_harbor_tiles_6_1_purchase;
}

item (FEAT_OBJECTS, harbor_tiles_6, 007) {
    property {
        class: "HBTL";
        classname: string(STR_HBTL);
        name: string(STR_harbor_tiles_6);
        climates_available: ALL_CLIMATES;
        size: [1,1];
        build_cost_multiplier: 1;
        remove_cost_multiplier: 4;
        introduction_date:      date(1700,1,1);
        end_of_life_date: 0xFFFFFFFF;
        object_flags: bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER, OBJ_FLAG_DRAW_WATER);
        height: 2;
        num_views: 4;
     }
    graphics {
        default: switch_harbor_tiles_6_object;
        purchase: switch_harbor_tiles_6_purchase;
        autoslope: return CB_RESULT_AUTOSLOPE;

      }
}
//////////harbor tiles 7///////////////
spriteset (spriteset_harbor_tiles_7) {
    template_tallflat_m(0,0,"gfx/tallflat_8.png")
}
alternative_sprites (spriteset_harbor_tiles_7, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_7.png")
}

spriteset (spriteset_harbor_tiles_7_SNOW) {
    template_tallflat_m(0,0,"gfx/tallflat_8_SNOW.png")
}
alternative_sprites (spriteset_harbor_tiles_7_SNOW, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_7_snow.png")
}

spriteset (spriteset_harbor_tiles_7_PURCHASE) {
    template_tallflat_m(0,0,"gfx/tallflat_8.png")
}
alternative_sprites (spriteset_harbor_tiles_7_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_7.png")
}

/* spritelayouts */

//Direction_1
spritelayout spritelayout_harbor_tiles_7_1 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_7(0);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_7_SNOW(0);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_7_1_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_7_PURCHASE(0);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}



//Direction_2
spritelayout spritelayout_harbor_tiles_7_2 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_7(1);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_7_SNOW(1);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_7_2_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_7_PURCHASE(1);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}

//Direction_3
spritelayout spritelayout_harbor_tiles_7_3 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_7(2);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_7_SNOW(2);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_7_3_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_7_PURCHASE(2);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}


//Direction_4
spritelayout spritelayout_harbor_tiles_7_4 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_7(3);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_7_SNOW(3);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_7_4_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_7_PURCHASE(3);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}

//decide spritelayout for each of the 4 directions
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_7_view, view) {
    1:  spritelayout_harbor_tiles_7_2;
    2:  spritelayout_harbor_tiles_7_3;
    3:  spritelayout_harbor_tiles_7_4;
    spritelayout_harbor_tiles_7_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_7_object, [
//  STORE_TEMP(slope_to_sprite_offset(tile_slope), 0),
    STORE_TEMP(0, 0),
    STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
    STORE_TEMP(terrain_type == TILETYPE_DESERT ? GROUNDSPRITE_DESERT : LOAD_TEMP(1), 1),
    STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
    STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
    STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_harbor_tiles_7_view;
}

//calculate ground sprite for purchase menu
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_7_purchase, view) {
    1:  spritelayout_harbor_tiles_7_2_purchase;
    2:  spritelayout_harbor_tiles_7_3_purchase;
    3:  spritelayout_harbor_tiles_7_4_purchase;
    spritelayout_harbor_tiles_7_1_purchase;
}

item (FEAT_OBJECTS, harbor_tiles_7, 008) {
    property {
        class: "HBTL";
        classname: string(STR_HBTL);
        name: string(STR_harbor_tiles_7);
        climates_available: ALL_CLIMATES;
        size: [1,1];
        build_cost_multiplier: 1;
        remove_cost_multiplier: 4;
        introduction_date:      date(1700,1,1);
        end_of_life_date: 0xFFFFFFFF;
        object_flags: bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER, OBJ_FLAG_DRAW_WATER);
        height: 2;
        num_views: 4;
     }
    graphics {
        default: switch_harbor_tiles_7_object;
        purchase: switch_harbor_tiles_7_purchase;
        autoslope: return CB_RESULT_AUTOSLOPE;

      }
}
//////////harbor tiles 8///////////////
spriteset (spriteset_harbor_tiles_8) {
    template_tallflat_m(0,0,"gfx/tallflat_8.png")
}
alternative_sprites (spriteset_harbor_tiles_8, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_8.png")
}

spriteset (spriteset_harbor_tiles_8_SNOW) {
    template_tallflat_m(0,0,"gfx/tallflat_8_SNOW.png")
}
alternative_sprites (spriteset_harbor_tiles_8_SNOW, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_8_snow.png")
}

spriteset (spriteset_harbor_tiles_8_PURCHASE) {
    template_tallflat_m(0,0,"gfx/tallflat_8.png")
}
alternative_sprites (spriteset_harbor_tiles_8_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_8.png")
}

/* spritelayouts */

//Direction_1
spritelayout spritelayout_harbor_tiles_8_1 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_8(0);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_8_SNOW(0);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_8_1_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_8_PURCHASE(0);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}



//Direction_2
spritelayout spritelayout_harbor_tiles_8_2 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_8(1);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_8_SNOW(1);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_8_2_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_8_PURCHASE(1);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}

//Direction_3
spritelayout spritelayout_harbor_tiles_8_3 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_8(2);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_8_SNOW(2);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_8_3_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_8_PURCHASE(2);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}


//Direction_4
spritelayout spritelayout_harbor_tiles_8_4 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_8(3);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_8_SNOW(3);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_8_4_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_8_PURCHASE(3);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}

//decide spritelayout for each of the 4 directions
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_8_view, view) {
    1:  spritelayout_harbor_tiles_8_2;
    2:  spritelayout_harbor_tiles_8_3;
    3:  spritelayout_harbor_tiles_8_4;
    spritelayout_harbor_tiles_8_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_8_object, [
//  STORE_TEMP(slope_to_sprite_offset(tile_slope), 0),
    STORE_TEMP(0, 0),
    STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
    STORE_TEMP(terrain_type == TILETYPE_DESERT ? GROUNDSPRITE_DESERT : LOAD_TEMP(1), 1),
    STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
    STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
    STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_harbor_tiles_8_view;
}

//calculate ground sprite for purchase menu
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_8_purchase, view) {
    1:  spritelayout_harbor_tiles_8_2_purchase;
    2:  spritelayout_harbor_tiles_8_3_purchase;
    3:  spritelayout_harbor_tiles_8_4_purchase;
    spritelayout_harbor_tiles_8_1_purchase;
}

item (FEAT_OBJECTS, harbor_tiles_8, 009) {
    property {
        class: "HBTL";
        classname: string(STR_HBTL);
        name: string(STR_harbor_tiles_8);
        climates_available: ALL_CLIMATES;
        size: [1,1];
        build_cost_multiplier: 1;
        remove_cost_multiplier: 4;
        introduction_date:      date(1700,1,1);
        end_of_life_date: 0xFFFFFFFF;
        object_flags: bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER, OBJ_FLAG_DRAW_WATER);
        height: 2;
        num_views: 4;
     }
    graphics {
        default: switch_harbor_tiles_8_object;
        purchase: switch_harbor_tiles_8_purchase;
        autoslope: return CB_RESULT_AUTOSLOPE;

      }
}
//////////harbor tiles 9///////////////
spriteset (spriteset_harbor_tiles_9) {
    template_tallflat_m(0,0,"gfx/tallflat_8.png")
}
alternative_sprites (spriteset_harbor_tiles_9, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_9.png")
}

spriteset (spriteset_harbor_tiles_9_SNOW) {
    template_tallflat_m(0,0,"gfx/tallflat_8_SNOW.png")
}
alternative_sprites (spriteset_harbor_tiles_9_SNOW, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_9_snow.png")
}

spriteset (spriteset_harbor_tiles_9_PURCHASE) {
    template_tallflat_m(0,0,"gfx/tallflat_8.png")
}
alternative_sprites (spriteset_harbor_tiles_9_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_9.png")
}

/* spritelayouts */

//Direction_1
spritelayout spritelayout_harbor_tiles_9_1 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_9(0);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_9_SNOW(0);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_9_1_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_9_PURCHASE(0);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}



//Direction_2
spritelayout spritelayout_harbor_tiles_9_2 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_9(1);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_9_SNOW(1);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_9_2_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_9_PURCHASE(1);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}

//Direction_3
spritelayout spritelayout_harbor_tiles_9_3 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_9(2);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_9_SNOW(2);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_9_3_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_9_PURCHASE(2);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}


//Direction_4
spritelayout spritelayout_harbor_tiles_9_4 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_9(3);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_9_SNOW(3);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_9_4_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_9_PURCHASE(3);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}

//decide spritelayout for each of the 4 directions
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_9_view, view) {
    1:  spritelayout_harbor_tiles_9_2;
    2:  spritelayout_harbor_tiles_9_3;
    3:  spritelayout_harbor_tiles_9_4;
    spritelayout_harbor_tiles_9_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_9_object, [
//  STORE_TEMP(slope_to_sprite_offset(tile_slope), 0),
    STORE_TEMP(0, 0),
    STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
    STORE_TEMP(terrain_type == TILETYPE_DESERT ? GROUNDSPRITE_DESERT : LOAD_TEMP(1), 1),
    STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
    STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
    STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_harbor_tiles_9_view;
}

//calculate ground sprite for purchase menu
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_9_purchase, view) {
    1:  spritelayout_harbor_tiles_9_2_purchase;
    2:  spritelayout_harbor_tiles_9_3_purchase;
    3:  spritelayout_harbor_tiles_9_4_purchase;
    spritelayout_harbor_tiles_9_1_purchase;
}

item (FEAT_OBJECTS, harbor_tiles_9, 010) {
    property {
        class: "HBTL";
        classname: string(STR_HBTL);
        name: string(STR_harbor_tiles_9);
        climates_available: ALL_CLIMATES;
        size: [1,1];
        build_cost_multiplier: 1;
        remove_cost_multiplier: 4;
        introduction_date:      date(1700,1,1);
        end_of_life_date: 0xFFFFFFFF;
        object_flags: bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER, OBJ_FLAG_DRAW_WATER);
        height: 2;
        num_views: 4;
     }
    graphics {
        default: switch_harbor_tiles_9_object;
        purchase: switch_harbor_tiles_9_purchase;
        autoslope: return CB_RESULT_AUTOSLOPE;

      }
}
//////////harbor tiles 10///////////////
spriteset (spriteset_harbor_tiles_10) {
    template_tallflat_m(0,0,"gfx/tallflat_8.png")
}
alternative_sprites (spriteset_harbor_tiles_10, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_10.png")
}

spriteset (spriteset_harbor_tiles_10_SNOW) {
    template_tallflat_m(0,0,"gfx/tallflat_8_SNOW.png")
}
alternative_sprites (spriteset_harbor_tiles_10_SNOW, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_10_snow.png")
}

spriteset (spriteset_harbor_tiles_10_PURCHASE) {
    template_tallflat_m(0,0,"gfx/tallflat_8.png")
}
alternative_sprites (spriteset_harbor_tiles_10_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallflat_m(0,0,"gfx/harbor_tiles_10.png")
}

/* spritelayouts */

//Direction_1
spritelayout spritelayout_harbor_tiles_10_1 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_10(0);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_10_SNOW(0);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_10_1_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_10_PURCHASE(0);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}



//Direction_2
spritelayout spritelayout_harbor_tiles_10_2 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_10(1);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_10_SNOW(1);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_10_2_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_10_PURCHASE(1);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}

//Direction_3
spritelayout spritelayout_harbor_tiles_10_3 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_10(2);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_10_SNOW(2);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_10_3_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_10_PURCHASE(2);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}


//Direction_4
spritelayout spritelayout_harbor_tiles_10_4 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_harbor_tiles_10(3);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

building {
        sprite: spriteset_harbor_tiles_10_SNOW(3);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_harbor_tiles_10_4_purchase {
   ground {
        sprite: GROUNDSPRITE_WATER;
   }
   building {
      sprite: spriteset_harbor_tiles_10_PURCHASE(3);
      xoffset: 0; //from NE edge
                yoffset: 0; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
   }
}

//decide spritelayout for each of the 4 directions
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_10_view, view) {
    1:  spritelayout_harbor_tiles_10_2;
    2:  spritelayout_harbor_tiles_10_3;
    3:  spritelayout_harbor_tiles_10_4;
    spritelayout_harbor_tiles_10_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_10_object, [
//  STORE_TEMP(slope_to_sprite_offset(tile_slope), 0),
    STORE_TEMP(0, 0),
    STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
    STORE_TEMP(terrain_type == TILETYPE_DESERT ? GROUNDSPRITE_DESERT : LOAD_TEMP(1), 1),
    STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
    STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
    STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_harbor_tiles_10_view;
}

//calculate ground sprite for purchase menu
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_10_purchase, view) {
    1:  spritelayout_harbor_tiles_10_2_purchase;
    2:  spritelayout_harbor_tiles_10_3_purchase;
    3:  spritelayout_harbor_tiles_10_4_purchase;
    spritelayout_harbor_tiles_10_1_purchase;
}

item (FEAT_OBJECTS, harbor_tiles_10, 011) {
    property {
        class: "HBTL";
        classname: string(STR_HBTL);
        name: string(STR_harbor_tiles_10);
        climates_available: ALL_CLIMATES;
        size: [1,1];
        build_cost_multiplier: 1;
        remove_cost_multiplier: 4;
        introduction_date:      date(1700,1,1);
        end_of_life_date: 0xFFFFFFFF;
        object_flags: bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER, OBJ_FLAG_DRAW_WATER);
        height: 2;
        num_views: 4;
     }
    graphics {
        default: switch_harbor_tiles_10_object;
        purchase: switch_harbor_tiles_10_purchase;
        autoslope: return CB_RESULT_AUTOSLOPE;

      }
}
//////////harbor tiles 11///////////////
template template_tallmultipic(x,y,filename) {
    [x,		y,      64,     114,     -31,    -83,   filename]
}

template template_tallmultipic_purchase(x,y,filename) {

    [x, y, 64, 114, -31, -83, filename]
    [x+70, y, 64, 114, -31, -83, filename]
    [x+140, y, 64, 114, -31, -83, filename]
    [x+210, y, 64, 114, -31, -83, filename]

}

//TOP ROW NE + SNOW//
spriteset (spriteset_harbor_tiles_11_1) {
    	template_tallmultipic(0,0,"gfx/normaltall_8.png")
	template_tallmultipic(70,0,"gfx/normaltall_8.png")
	template_tallmultipic(140,0,"gfx/normaltall_8.png")
	template_tallmultipic(210,0,"gfx/normaltall_8.png")
	template_tallmultipic(280,0,"gfx/normaltall_8.png")
	template_tallmultipic(350,0,"gfx/normaltall_8.png")
	template_tallmultipic(420,0,"gfx/normaltall_8.png")
	template_tallmultipic(490,0,"gfx/normaltall_8.png")
	template_tallmultipic(560,0,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_harbor_tiles_11_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_tallmultipic(0,0,"gfx/harbor_tiles_11.png")
	template_tallmultipic(70,0,"gfx/harbor_tiles_11.png")
	template_tallmultipic(140,0,"gfx/harbor_tiles_11.png")
	template_tallmultipic(210,0,"gfx/harbor_tiles_11.png")
	template_tallmultipic(280,0,"gfx/harbor_tiles_11.png")
	template_tallmultipic(350,0,"gfx/harbor_tiles_11.png")
	template_tallmultipic(420,0,"gfx/harbor_tiles_11.png")
	template_tallmultipic(490,0,"gfx/harbor_tiles_11.png")
	template_tallmultipic(560,0,"gfx/harbor_tiles_11.png")
}

spriteset (spriteset_harbor_tiles_11_1_snow) {
    	template_tallmultipic(0,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,0,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_harbor_tiles_11_1_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,0,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(70,0,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(140,0,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(210,0,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(280,0,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(350,0,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(420,0,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(490,0,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(560,0,"gfx/harbor_tiles_11_snow.png")
}

//2ND ROW NE + SNOW//
spriteset (spriteset_harbor_tiles_11_2) {
    	template_tallmultipic(0,120,"gfx/normaltall_8.png")
	template_tallmultipic(70,120,"gfx/normaltall_8.png")
	template_tallmultipic(140,120,"gfx/normaltall_8.png")
	template_tallmultipic(210,120,"gfx/normaltall_8.png")
	template_tallmultipic(280,120,"gfx/normaltall_8.png")
	template_tallmultipic(350,120,"gfx/normaltall_8.png")
	template_tallmultipic(420,120,"gfx/normaltall_8.png")
	template_tallmultipic(490,120,"gfx/normaltall_8.png")
	template_tallmultipic(560,120,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_harbor_tiles_11_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/harbor_tiles_11.png")
	template_tallmultipic(70,120,"gfx/harbor_tiles_11.png")
	template_tallmultipic(140,120,"gfx/harbor_tiles_11.png")
	template_tallmultipic(210,120,"gfx/harbor_tiles_11.png")
	template_tallmultipic(280,120,"gfx/harbor_tiles_11.png")
	template_tallmultipic(350,120,"gfx/harbor_tiles_11.png")
	template_tallmultipic(420,120,"gfx/harbor_tiles_11.png")
	template_tallmultipic(490,120,"gfx/harbor_tiles_11.png")
	template_tallmultipic(560,120,"gfx/harbor_tiles_11.png")
}

spriteset (spriteset_harbor_tiles_11_2_snow) {
    	template_tallmultipic(0,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,120,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_harbor_tiles_11_2_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(70,120,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(140,120,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(210,120,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(280,120,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(350,120,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(420,120,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(490,120,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(560,120,"gfx/harbor_tiles_11_snow.png")
}


//3RD ROW SE + SNOW//
spriteset (spriteset_harbor_tiles_11_3) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_harbor_tiles_11_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/harbor_tiles_11.png")
	template_tallmultipic(70,240,"gfx/harbor_tiles_11.png")
	template_tallmultipic(140,240,"gfx/harbor_tiles_11.png")
	template_tallmultipic(210,240,"gfx/harbor_tiles_11.png")
	template_tallmultipic(280,240,"gfx/harbor_tiles_11.png")
	template_tallmultipic(350,240,"gfx/harbor_tiles_11.png")
	template_tallmultipic(420,240,"gfx/harbor_tiles_11.png")
	template_tallmultipic(490,240,"gfx/harbor_tiles_11.png")
	template_tallmultipic(560,240,"gfx/harbor_tiles_11.png")
}


spriteset (spriteset_harbor_tiles_11_3_snow) {
    	template_tallmultipic(0,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,240,"gfx/normaltall_8_SNOW.png")
}


alternative_sprites (spriteset_harbor_tiles_11_3_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(70,240,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(140,240,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(210,240,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(280,240,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(350,240,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(420,240,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(490,240,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(560,240,"gfx/harbor_tiles_11_snow.png")
}


//4TH ROW + SNOW//
spriteset (spriteset_harbor_tiles_11_4) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")	
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_harbor_tiles_11_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/harbor_tiles_11.png")
	template_tallmultipic(70,360,"gfx/harbor_tiles_11.png")
	template_tallmultipic(140,360,"gfx/harbor_tiles_11.png")
	template_tallmultipic(210,360,"gfx/harbor_tiles_11.png")	
	template_tallmultipic(280,360,"gfx/harbor_tiles_11.png")
	template_tallmultipic(350,360,"gfx/harbor_tiles_11.png")
	template_tallmultipic(420,360,"gfx/harbor_tiles_11.png")
	template_tallmultipic(490,360,"gfx/harbor_tiles_11.png")
	template_tallmultipic(560,360,"gfx/harbor_tiles_11.png")
}

spriteset (spriteset_harbor_tiles_11_4_snow) {
    	template_tallmultipic(0,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,360,"gfx/normaltall_8_SNOW.png")	
	template_tallmultipic(280,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,360,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_harbor_tiles_11_4_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(70,360,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(140,360,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(210,360,"gfx/harbor_tiles_11_snow.png")	
	template_tallmultipic(280,360,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(350,360,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(420,360,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(490,360,"gfx/harbor_tiles_11_snow.png")
	template_tallmultipic(560,360,"gfx/harbor_tiles_11_snow.png")
}

spriteset (spriteset_harbor_tiles_11_PURCHASE) {
    template_tallmultipic_purchase(0,0,"gfx/normaltall_8_PURCHASE.png")
}

alternative_sprites (spriteset_harbor_tiles_11_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallmultipic_purchase(0,0,"gfx/harbor_tiles_11_PURCHASE.png")
}


//OBJECT 1 SIMPLE tallmultipic//
//SPRITELAYOUTS//

//RURAL tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_harbor_tiles_11_1 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_harbor_tiles_11_1((animation_frame + nearby_tile_random_bits(0,0)) % 9);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_harbor_tiles_11_1_snow((animation_frame + nearby_tile_random_bits(0,0)) % 9);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }


}

spritelayout spritelayout_harbor_tiles_11_1_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_harbor_tiles_11_PURCHASE(0);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//RURAL tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_harbor_tiles_11_2 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_harbor_tiles_11_2((animation_frame + nearby_tile_random_bits(0,0)) % 9);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_harbor_tiles_11_2_snow((animation_frame + nearby_tile_random_bits(0,0)) % 9);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_harbor_tiles_11_2_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_harbor_tiles_11_PURCHASE(1);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//OBJECT 2 SIMPLE tallmultipic//
//tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_harbor_tiles_11_3 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_harbor_tiles_11_3((animation_frame + nearby_tile_random_bits(0,0)) % 9);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_harbor_tiles_11_3_snow((animation_frame + nearby_tile_random_bits(0,0)) % 9);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_harbor_tiles_11_3_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_harbor_tiles_11_PURCHASE(2);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_harbor_tiles_11_4 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_harbor_tiles_11_4((animation_frame + nearby_tile_random_bits(0,0)) % 9);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_harbor_tiles_11_4_snow((animation_frame + nearby_tile_random_bits(0,0)) % 9);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_harbor_tiles_11_4_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_harbor_tiles_11_PURCHASE(3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//decide spritelayout for each of the 4 views
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_11_view, view) {
    1:  spritelayout_harbor_tiles_11_2;
    2:  spritelayout_harbor_tiles_11_3;
    3:  spritelayout_harbor_tiles_11_4;
    spritelayout_harbor_tiles_11_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_11_object, [
//tile slope offset in storage register 0
        STORE_TEMP(slope_to_sprite_offset(tile_slope), 0),
        //terrain type in storage register 1
//    STORE_TEMP(0, 0),
        //terrain type in storage register 1
        STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP( (nearby_tile_terrain_type(0,0) == TILETYPE_DESERT) * GROUNDSPRITE_DESERT, 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type(-1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0, 1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0,-1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
		STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
		STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_harbor_tiles_11_view;
}

//decide spritelayout for the purchase menu
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_11_purchase, view) {
    1:  spritelayout_harbor_tiles_11_2_purchase;
    2:  spritelayout_harbor_tiles_11_3_purchase;
    3:  spritelayout_harbor_tiles_11_4_purchase;
    spritelayout_harbor_tiles_11_1_purchase;
}

switch (FEAT_OBJECTS, SELF, switch_add_text_STR_harbor_tiles_11, view) {
1: string(STR_harbor_tiles_11_purchase_view2);
2: string(STR_harbor_tiles_11_purchase_view3);
3: string(STR_harbor_tiles_11_purchase_view4);
default: string(STR_harbor_tiles_11_purchase_view1);
}

item (FEAT_OBJECTS, item_harbor_tiles_11, 012) {
    property {
        class:                  "HBTL";
	    classname:		        string(STR_HBTL);
        name:                   string(STR_harbor_tiles_11);
        climates_available:     ALL_CLIMATES;
        size:                   [1,1];
        build_cost_multiplier:  0;
        remove_cost_multiplier: 0;
        introduction_date:      date(1111,1,1);
        end_of_life_date:       0xFFFFFFFF;
        object_flags:           bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER, OBJ_FLAG_ALLOW_BRIDGE, OBJ_FLAG_DRAW_WATER, OBJ_FLAG_NO_FOUNDATIONS);
//	animation_info:			[ANIMATION_LOOPING, 9];
//	animation_speed:		7;
//	animation_triggers:		3;
        height:                 1;
        num_views:              4;
    }
    graphics {
        default:            switch_harbor_tiles_11_object;
        purchase:           switch_harbor_tiles_11_purchase;
        autoslope:          return(CB_RESULT_AUTOSLOPE);
//      additional_text:    string(STR_tallmultipic_1_PURCHASE);
        additional_text:    switch_add_text_STR_harbor_tiles_11;
	anim_control:    	return CB_RESULT_NEXT_FRAME;
	anim_next_frame: 	return CB_RESULT_NEXT_FRAME;
    }
}
////////harbor tiles 12//////////////
//TOP ROW NE + SNOW//
spriteset (spriteset_harbor_tiles_12_1) {
    	template_tallmultipic(0,0,"gfx/normaltall_8.png")
	template_tallmultipic(70,0,"gfx/normaltall_8.png")
	template_tallmultipic(140,0,"gfx/normaltall_8.png")
	template_tallmultipic(210,0,"gfx/normaltall_8.png")
	template_tallmultipic(280,0,"gfx/normaltall_8.png")
	template_tallmultipic(350,0,"gfx/normaltall_8.png")
	template_tallmultipic(420,0,"gfx/normaltall_8.png")
	template_tallmultipic(490,0,"gfx/normaltall_8.png")
	template_tallmultipic(560,0,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_harbor_tiles_12_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_tallmultipic(0,0,"gfx/harbor_tiles_12.png")
	template_tallmultipic(70,0,"gfx/harbor_tiles_12.png")
	template_tallmultipic(140,0,"gfx/harbor_tiles_12.png")
	template_tallmultipic(210,0,"gfx/harbor_tiles_12.png")
	template_tallmultipic(280,0,"gfx/harbor_tiles_12.png")
	template_tallmultipic(350,0,"gfx/harbor_tiles_12.png")
	template_tallmultipic(420,0,"gfx/harbor_tiles_12.png")
	template_tallmultipic(490,0,"gfx/harbor_tiles_12.png")
	template_tallmultipic(560,0,"gfx/harbor_tiles_12.png")
}

spriteset (spriteset_harbor_tiles_12_1_snow) {
    	template_tallmultipic(0,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,0,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_harbor_tiles_12_1_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,0,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(70,0,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(140,0,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(210,0,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(280,0,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(350,0,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(420,0,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(490,0,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(560,0,"gfx/harbor_tiles_12_snow.png")
}

//2ND ROW NE + SNOW//
spriteset (spriteset_harbor_tiles_12_2) {
    	template_tallmultipic(0,120,"gfx/normaltall_8.png")
	template_tallmultipic(70,120,"gfx/normaltall_8.png")
	template_tallmultipic(140,120,"gfx/normaltall_8.png")
	template_tallmultipic(210,120,"gfx/normaltall_8.png")
	template_tallmultipic(280,120,"gfx/normaltall_8.png")
	template_tallmultipic(350,120,"gfx/normaltall_8.png")
	template_tallmultipic(420,120,"gfx/normaltall_8.png")
	template_tallmultipic(490,120,"gfx/normaltall_8.png")
	template_tallmultipic(560,120,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_harbor_tiles_12_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/harbor_tiles_12.png")
	template_tallmultipic(70,120,"gfx/harbor_tiles_12.png")
	template_tallmultipic(140,120,"gfx/harbor_tiles_12.png")
	template_tallmultipic(210,120,"gfx/harbor_tiles_12.png")
	template_tallmultipic(280,120,"gfx/harbor_tiles_12.png")
	template_tallmultipic(350,120,"gfx/harbor_tiles_12.png")
	template_tallmultipic(420,120,"gfx/harbor_tiles_12.png")
	template_tallmultipic(490,120,"gfx/harbor_tiles_12.png")
	template_tallmultipic(560,120,"gfx/harbor_tiles_12.png")
}

spriteset (spriteset_harbor_tiles_12_2_snow) {
    	template_tallmultipic(0,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,120,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_harbor_tiles_12_2_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(70,120,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(140,120,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(210,120,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(280,120,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(350,120,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(420,120,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(490,120,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(560,120,"gfx/harbor_tiles_12_snow.png")
}


//3RD ROW SE + SNOW//
spriteset (spriteset_harbor_tiles_12_3) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_harbor_tiles_12_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/harbor_tiles_12.png")
	template_tallmultipic(70,240,"gfx/harbor_tiles_12.png")
	template_tallmultipic(140,240,"gfx/harbor_tiles_12.png")
	template_tallmultipic(210,240,"gfx/harbor_tiles_12.png")
	template_tallmultipic(280,240,"gfx/harbor_tiles_12.png")
	template_tallmultipic(350,240,"gfx/harbor_tiles_12.png")
	template_tallmultipic(420,240,"gfx/harbor_tiles_12.png")
	template_tallmultipic(490,240,"gfx/harbor_tiles_12.png")
	template_tallmultipic(560,240,"gfx/harbor_tiles_12.png")
}


spriteset (spriteset_harbor_tiles_12_3_snow) {
    	template_tallmultipic(0,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,240,"gfx/normaltall_8_SNOW.png")
}


alternative_sprites (spriteset_harbor_tiles_12_3_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(70,240,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(140,240,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(210,240,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(280,240,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(350,240,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(420,240,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(490,240,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(560,240,"gfx/harbor_tiles_12_snow.png")
}


//4TH ROW + SNOW//
spriteset (spriteset_harbor_tiles_12_4) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")	
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_harbor_tiles_12_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/harbor_tiles_12.png")
	template_tallmultipic(70,360,"gfx/harbor_tiles_12.png")
	template_tallmultipic(140,360,"gfx/harbor_tiles_12.png")
	template_tallmultipic(210,360,"gfx/harbor_tiles_12.png")	
	template_tallmultipic(280,360,"gfx/harbor_tiles_12.png")
	template_tallmultipic(350,360,"gfx/harbor_tiles_12.png")
	template_tallmultipic(420,360,"gfx/harbor_tiles_12.png")
	template_tallmultipic(490,360,"gfx/harbor_tiles_12.png")
	template_tallmultipic(560,360,"gfx/harbor_tiles_12.png")
}

spriteset (spriteset_harbor_tiles_12_4_snow) {
    	template_tallmultipic(0,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,360,"gfx/normaltall_8_SNOW.png")	
	template_tallmultipic(280,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,360,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_harbor_tiles_12_4_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(70,360,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(140,360,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(210,360,"gfx/harbor_tiles_12_snow.png")	
	template_tallmultipic(280,360,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(350,360,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(420,360,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(490,360,"gfx/harbor_tiles_12_snow.png")
	template_tallmultipic(560,360,"gfx/harbor_tiles_12_snow.png")
}

spriteset (spriteset_harbor_tiles_12_PURCHASE) {
    template_tallmultipic_purchase(0,0,"gfx/normaltall_8_PURCHASE.png")
}

alternative_sprites (spriteset_harbor_tiles_12_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallmultipic_purchase(0,0,"gfx/harbor_tiles_12_PURCHASE.png")
}


//OBJECT 1 SIMPLE tallmultipic//
//SPRITELAYOUTS//

//RURAL tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_harbor_tiles_12_1 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_harbor_tiles_12_1((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_harbor_tiles_12_1_snow((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }


}

spritelayout spritelayout_harbor_tiles_12_1_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_harbor_tiles_12_PURCHASE(0);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//RURAL tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_harbor_tiles_12_2 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_harbor_tiles_12_2((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_harbor_tiles_12_2_snow((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_harbor_tiles_12_2_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_harbor_tiles_12_PURCHASE(1);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//OBJECT 2 SIMPLE tallmultipic//
//tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_harbor_tiles_12_3 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_harbor_tiles_12_3((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_harbor_tiles_12_3_snow((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_harbor_tiles_12_3_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_harbor_tiles_12_PURCHASE(2);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_harbor_tiles_12_4 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_harbor_tiles_12_4((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_harbor_tiles_12_4_snow((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_harbor_tiles_12_4_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_harbor_tiles_12_PURCHASE(3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//decide spritelayout for each of the 4 views
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_12_view, view) {
    1:  spritelayout_harbor_tiles_12_2;
    2:  spritelayout_harbor_tiles_12_3;
    3:  spritelayout_harbor_tiles_12_4;
    spritelayout_harbor_tiles_12_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_12_object, [
//tile slope offset in storage register 0
        STORE_TEMP(slope_to_sprite_offset(tile_slope), 0),
        //terrain type in storage register 1
//    STORE_TEMP(0, 0),
        //terrain type in storage register 1
        STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP( (nearby_tile_terrain_type(0,0) == TILETYPE_DESERT) * GROUNDSPRITE_DESERT, 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type(-1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0, 1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0,-1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
		STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
		STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_harbor_tiles_12_view;
}

//decide spritelayout for the purchase menu
switch (FEAT_OBJECTS, SELF, switch_harbor_tiles_12_purchase, view) {
    1:  spritelayout_harbor_tiles_12_2_purchase;
    2:  spritelayout_harbor_tiles_12_3_purchase;
    3:  spritelayout_harbor_tiles_12_4_purchase;
    spritelayout_harbor_tiles_12_1_purchase;
}

switch (FEAT_OBJECTS, SELF, switch_add_text_STR_harbor_tiles_12, view) {
1: string(STR_harbor_tiles_12_purchase_view2);
2: string(STR_harbor_tiles_12_purchase_view3);
3: string(STR_harbor_tiles_12_purchase_view4);
default: string(STR_harbor_tiles_12_purchase_view1);
}

item (FEAT_OBJECTS, item_harbor_tiles_12, 013) {
    property {
        class:                  "HBTL";
	    classname:		        string(STR_HBTL);
        name:                   string(STR_harbor_tiles_12);
        climates_available:     ALL_CLIMATES;
        size:                   [1,1];
        build_cost_multiplier:  0;
        remove_cost_multiplier: 0;
        introduction_date:      date(1111,1,1);
        end_of_life_date:       0xFFFFFFFF;
        object_flags:           bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER, OBJ_FLAG_ALLOW_BRIDGE, OBJ_FLAG_DRAW_WATER, OBJ_FLAG_NO_FOUNDATIONS);
//	animation_info:			[ANIMATION_LOOPING, 9];
//	animation_speed:		7;
//	animation_triggers:		3;
        height:                 1;
        num_views:              4;
    }
    graphics {
        default:            switch_harbor_tiles_12_object;
        purchase:           switch_harbor_tiles_12_purchase;
        autoslope:          return(CB_RESULT_AUTOSLOPE);
//      additional_text:    string(STR_tallmultipic_1_PURCHASE);
        additional_text:    switch_add_text_STR_harbor_tiles_12;
	anim_control:    	return CB_RESULT_NEXT_FRAME;
	anim_next_frame: 	return CB_RESULT_NEXT_FRAME;
    }
}
/////////////cargo vehicle 1///////////////
//TEMPLATES & SPRITESETS//


//TOP ROW NE + SNOW//
spriteset (spriteset_cargo_vehicle_1_1) {
    	template_tallmultipic(0,0,"gfx/normaltall_8.png")
	template_tallmultipic(70,0,"gfx/normaltall_8.png")
	template_tallmultipic(140,0,"gfx/normaltall_8.png")
	template_tallmultipic(210,0,"gfx/normaltall_8.png")
	template_tallmultipic(280,0,"gfx/normaltall_8.png")
	template_tallmultipic(350,0,"gfx/normaltall_8.png")
	template_tallmultipic(420,0,"gfx/normaltall_8.png")
	template_tallmultipic(490,0,"gfx/normaltall_8.png")
	template_tallmultipic(560,0,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_1_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_tallmultipic(0,0,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(70,0,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(140,0,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(210,0,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(280,0,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(350,0,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(420,0,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(490,0,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(560,0,"gfx/cargo_vehicle_1.png")
}

spriteset (spriteset_cargo_vehicle_1_1_snow) {
    	template_tallmultipic(0,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,0,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_cargo_vehicle_1_1_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,0,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(70,0,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(140,0,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(210,0,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(280,0,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(350,0,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(420,0,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(490,0,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(560,0,"gfx/cargo_vehicle_1_snow.png")
}

//2ND ROW NE + SNOW//
spriteset (spriteset_cargo_vehicle_1_2) {
    	template_tallmultipic(0,120,"gfx/normaltall_8.png")
	template_tallmultipic(70,120,"gfx/normaltall_8.png")
	template_tallmultipic(140,120,"gfx/normaltall_8.png")
	template_tallmultipic(210,120,"gfx/normaltall_8.png")
	template_tallmultipic(280,120,"gfx/normaltall_8.png")
	template_tallmultipic(350,120,"gfx/normaltall_8.png")
	template_tallmultipic(420,120,"gfx/normaltall_8.png")
	template_tallmultipic(490,120,"gfx/normaltall_8.png")
	template_tallmultipic(560,120,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_1_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(70,120,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(140,120,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(210,120,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(280,120,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(350,120,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(420,120,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(490,120,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(560,120,"gfx/cargo_vehicle_1.png")
}

spriteset (spriteset_cargo_vehicle_1_2_snow) {
    	template_tallmultipic(0,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,120,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_cargo_vehicle_1_2_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(70,120,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(140,120,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(210,120,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(280,120,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(350,120,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(420,120,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(490,120,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(560,120,"gfx/cargo_vehicle_1_snow.png")
}


//3RD ROW SE + SNOW//
spriteset (spriteset_cargo_vehicle_1_3) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_1_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(70,240,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(140,240,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(210,240,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(280,240,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(350,240,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(420,240,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(490,240,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(560,240,"gfx/cargo_vehicle_1.png")
}


spriteset (spriteset_cargo_vehicle_1_3_snow) {
    	template_tallmultipic(0,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,240,"gfx/normaltall_8_SNOW.png")
}


alternative_sprites (spriteset_cargo_vehicle_1_3_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(70,240,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(140,240,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(210,240,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(280,240,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(350,240,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(420,240,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(490,240,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(560,240,"gfx/cargo_vehicle_1_snow.png")
}


//4TH ROW + SNOW//
spriteset (spriteset_cargo_vehicle_1_4) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")	
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_1_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(70,360,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(140,360,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(210,360,"gfx/cargo_vehicle_1.png")	
	template_tallmultipic(280,360,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(350,360,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(420,360,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(490,360,"gfx/cargo_vehicle_1.png")
	template_tallmultipic(560,360,"gfx/cargo_vehicle_1.png")
}

spriteset (spriteset_cargo_vehicle_1_4_snow) {
    	template_tallmultipic(0,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,360,"gfx/normaltall_8_SNOW.png")	
	template_tallmultipic(280,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,360,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_cargo_vehicle_1_4_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(70,360,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(140,360,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(210,360,"gfx/cargo_vehicle_1_snow.png")	
	template_tallmultipic(280,360,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(350,360,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(420,360,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(490,360,"gfx/cargo_vehicle_1_snow.png")
	template_tallmultipic(560,360,"gfx/cargo_vehicle_1_snow.png")
}

spriteset (spriteset_cargo_vehicle_1_PURCHASE) {
    template_tallmultipic_purchase(0,0,"gfx/normaltall_8_PURCHASE.png")
}

alternative_sprites (spriteset_cargo_vehicle_1_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallmultipic_purchase(0,0,"gfx/cargo_vehicle_1_PURCHASE.png")
}


//OBJECT 1 SIMPLE tallmultipic//
//SPRITELAYOUTS//

//RURAL tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_1_1 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_1_1((animation_frame + nearby_tile_random_bits(0,0)) % 5);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_1_1_snow((animation_frame + nearby_tile_random_bits(0,0)) % 5);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }


}

spritelayout spritelayout_cargo_vehicle_1_1_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_1_PURCHASE(0);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//RURAL tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_1_2 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_1_2((animation_frame + nearby_tile_random_bits(0,0)) % 5);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_1_2_snow((animation_frame + nearby_tile_random_bits(0,0)) % 5);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_cargo_vehicle_1_2_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_1_PURCHASE(1);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//OBJECT 2 SIMPLE tallmultipic//
//tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_1_3 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_1_3((animation_frame + nearby_tile_random_bits(0,0)) % 5);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_1_3_snow((animation_frame + nearby_tile_random_bits(0,0)) % 5);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_cargo_vehicle_1_3_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_1_PURCHASE(2);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_1_4 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_1_4((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_1_4_snow((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_cargo_vehicle_1_4_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_1_PURCHASE(3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//decide spritelayout for each of the 4 views
switch (FEAT_OBJECTS, SELF, switch_cargo_vehicle_1_view, view) {
    1:  spritelayout_cargo_vehicle_1_2;
    2:  spritelayout_cargo_vehicle_1_3;
    3:  spritelayout_cargo_vehicle_1_4;
    spritelayout_cargo_vehicle_1_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_cargo_vehicle_1_object, [
        //tile slope offset in storage register 0
        STORE_TEMP(0, 0),
        //terrain type in storage register 1
        STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP( (nearby_tile_terrain_type(0,0) == TILETYPE_DESERT) * GROUNDSPRITE_DESERT, 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type(-1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0, 1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0,-1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
		STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
		STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_cargo_vehicle_1_view;
}

//decide spritelayout for the purchase menu
switch (FEAT_OBJECTS, SELF, switch_cargo_vehicle_1_purchase, view) {
    1:  spritelayout_cargo_vehicle_1_2_purchase;
    2:  spritelayout_cargo_vehicle_1_3_purchase;
    3:  spritelayout_cargo_vehicle_1_4_purchase;
    spritelayout_cargo_vehicle_1_1_purchase;
}

switch (FEAT_OBJECTS, SELF, switch_add_text_STR_cargo_vehicle_1, view) {
1: string(STR_cargo_vehicle_1_purchase_view2);
2: string(STR_cargo_vehicle_1_purchase_view3);
3: string(STR_cargo_vehicle_1_purchase_view4);
default: string(STR_cargo_vehicle_1_purchase_view1);
}

item (FEAT_OBJECTS, item_cargo_vehicle_1, 101) {
    property {
        class:                  "CAVE";
	    classname:		        string(STR_CAVE);
        name:                   string(STR_cargo_vehicle_1);
        climates_available:     ALL_CLIMATES;
        size:                   [1,1];
        build_cost_multiplier:  0;
        remove_cost_multiplier: 0;
        introduction_date:      date(1111,1,1);
        end_of_life_date:       0xFFFFFFFF;
        object_flags:           bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER, OBJ_FLAG_ALLOW_BRIDGE);
//	animation_info:			[ANIMATION_LOOPING, 9];
//	animation_speed:		7;
//	animation_triggers:		3;
        height:                 1;
        num_views:              4;
    }
    graphics {
        default:            switch_cargo_vehicle_1_object;
        purchase:           switch_cargo_vehicle_1_purchase;
        autoslope:          return(CB_RESULT_AUTOSLOPE);
//      additional_text:    string(STR_tallmultipic_1_PURCHASE);
        additional_text:    switch_add_text_STR_cargo_vehicle_1;
	anim_control:    	return CB_RESULT_NEXT_FRAME;
	anim_next_frame: 	return CB_RESULT_NEXT_FRAME;
    }
}
//////////cargo_vehicle_2////////////
//TOP ROW NE + SNOW//
spriteset (spriteset_cargo_vehicle_2_1) {
    	template_tallmultipic(0,0,"gfx/normaltall_8.png")
	template_tallmultipic(70,0,"gfx/normaltall_8.png")
	template_tallmultipic(140,0,"gfx/normaltall_8.png")
	template_tallmultipic(210,0,"gfx/normaltall_8.png")
	template_tallmultipic(280,0,"gfx/normaltall_8.png")
	template_tallmultipic(350,0,"gfx/normaltall_8.png")
	template_tallmultipic(420,0,"gfx/normaltall_8.png")
	template_tallmultipic(490,0,"gfx/normaltall_8.png")
	template_tallmultipic(560,0,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_2_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_tallmultipic(0,0,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(70,0,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(140,0,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(210,0,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(280,0,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(350,0,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(420,0,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(490,0,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(560,0,"gfx/cargo_vehicle_2.png")
}

spriteset (spriteset_cargo_vehicle_2_1_snow) {
    	template_tallmultipic(0,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,0,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_cargo_vehicle_2_1_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,0,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(70,0,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(140,0,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(210,0,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(280,0,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(350,0,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(420,0,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(490,0,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(560,0,"gfx/cargo_vehicle_2_snow.png")
}

//2ND ROW NE + SNOW//
spriteset (spriteset_cargo_vehicle_2_2) {
    	template_tallmultipic(0,120,"gfx/normaltall_8.png")
	template_tallmultipic(70,120,"gfx/normaltall_8.png")
	template_tallmultipic(140,120,"gfx/normaltall_8.png")
	template_tallmultipic(210,120,"gfx/normaltall_8.png")
	template_tallmultipic(280,120,"gfx/normaltall_8.png")
	template_tallmultipic(350,120,"gfx/normaltall_8.png")
	template_tallmultipic(420,120,"gfx/normaltall_8.png")
	template_tallmultipic(490,120,"gfx/normaltall_8.png")
	template_tallmultipic(560,120,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_2_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(70,120,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(140,120,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(210,120,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(280,120,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(350,120,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(420,120,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(490,120,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(560,120,"gfx/cargo_vehicle_2.png")
}

spriteset (spriteset_cargo_vehicle_2_2_snow) {
    	template_tallmultipic(0,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,120,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_cargo_vehicle_2_2_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(70,120,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(140,120,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(210,120,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(280,120,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(350,120,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(420,120,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(490,120,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(560,120,"gfx/cargo_vehicle_2_snow.png")
}


//3RD ROW SE + SNOW//
spriteset (spriteset_cargo_vehicle_2_3) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_2_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(70,240,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(140,240,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(210,240,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(280,240,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(350,240,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(420,240,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(490,240,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(560,240,"gfx/cargo_vehicle_2.png")
}


spriteset (spriteset_cargo_vehicle_2_3_snow) {
    	template_tallmultipic(0,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,240,"gfx/normaltall_8_SNOW.png")
}


alternative_sprites (spriteset_cargo_vehicle_2_3_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(70,240,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(140,240,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(210,240,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(280,240,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(350,240,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(420,240,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(490,240,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(560,240,"gfx/cargo_vehicle_2_snow.png")
}


//4TH ROW + SNOW//
spriteset (spriteset_cargo_vehicle_2_4) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")	
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_2_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(70,360,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(140,360,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(210,360,"gfx/cargo_vehicle_2.png")	
	template_tallmultipic(280,360,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(350,360,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(420,360,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(490,360,"gfx/cargo_vehicle_2.png")
	template_tallmultipic(560,360,"gfx/cargo_vehicle_2.png")
}

spriteset (spriteset_cargo_vehicle_2_4_snow) {
    	template_tallmultipic(0,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,360,"gfx/normaltall_8_SNOW.png")	
	template_tallmultipic(280,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,360,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_cargo_vehicle_2_4_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(70,360,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(140,360,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(210,360,"gfx/cargo_vehicle_2_snow.png")	
	template_tallmultipic(280,360,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(350,360,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(420,360,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(490,360,"gfx/cargo_vehicle_2_snow.png")
	template_tallmultipic(560,360,"gfx/cargo_vehicle_2_snow.png")
}

spriteset (spriteset_cargo_vehicle_2_PURCHASE) {
    template_tallmultipic_purchase(0,0,"gfx/normaltall_8_PURCHASE.png")
}

alternative_sprites (spriteset_cargo_vehicle_2_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallmultipic_purchase(0,0,"gfx/cargo_vehicle_2_PURCHASE.png")
}


//OBJECT 1 SIMPLE tallmultipic//
//SPRITELAYOUTS//

//RURAL tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_2_1 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_2_1((animation_frame + nearby_tile_random_bits(0,0)) % 5);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_2_1_snow((animation_frame + nearby_tile_random_bits(0,0)) % 5);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }


}

spritelayout spritelayout_cargo_vehicle_2_1_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_2_PURCHASE(0);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//RURAL tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_2_2 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_2_2((animation_frame + nearby_tile_random_bits(0,0)) % 5);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_2_2_snow((animation_frame + nearby_tile_random_bits(0,0)) % 5);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_cargo_vehicle_2_2_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_2_PURCHASE(1);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//OBJECT 2 SIMPLE tallmultipic//
//tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_2_3 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_2_3((animation_frame + nearby_tile_random_bits(0,0)) % 5);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_2_3_snow((animation_frame + nearby_tile_random_bits(0,0)) % 5);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_cargo_vehicle_2_3_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_2_PURCHASE(2);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_2_4 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_2_4((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_2_4_snow((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_cargo_vehicle_2_4_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_2_PURCHASE(3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//decide spritelayout for each of the 4 views
switch (FEAT_OBJECTS, SELF, switch_cargo_vehicle_2_view, view) {
    1:  spritelayout_cargo_vehicle_2_2;
    2:  spritelayout_cargo_vehicle_2_3;
    3:  spritelayout_cargo_vehicle_2_4;
    spritelayout_cargo_vehicle_2_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_cargo_vehicle_2_object, [
        //tile slope offset in storage register 0
        STORE_TEMP(0, 0),
        //terrain type in storage register 1
        STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP( (nearby_tile_terrain_type(0,0) == TILETYPE_DESERT) * GROUNDSPRITE_DESERT, 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type(-1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0, 1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0,-1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
		STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
		STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_cargo_vehicle_2_view;
}

//decide spritelayout for the purchase menu
switch (FEAT_OBJECTS, SELF, switch_cargo_vehicle_2_purchase, view) {
    1:  spritelayout_cargo_vehicle_2_2_purchase;
    2:  spritelayout_cargo_vehicle_2_3_purchase;
    3:  spritelayout_cargo_vehicle_2_4_purchase;
    spritelayout_cargo_vehicle_2_1_purchase;
}

switch (FEAT_OBJECTS, SELF, switch_add_text_STR_cargo_vehicle_2, view) {
1: string(STR_cargo_vehicle_2_purchase_view2);
2: string(STR_cargo_vehicle_2_purchase_view3);
3: string(STR_cargo_vehicle_2_purchase_view4);
default: string(STR_cargo_vehicle_2_purchase_view1);
}

item (FEAT_OBJECTS, item_cargo_vehicle_2, 102) {
    property {
        class:                  "CAVE";
	    classname:		        string(STR_CAVE);
        name:                   string(STR_cargo_vehicle_2);
        climates_available:     ALL_CLIMATES;
        size:                   [1,1];
        build_cost_multiplier:  0;
        remove_cost_multiplier: 0;
        introduction_date:      date(1111,1,1);
        end_of_life_date:       0xFFFFFFFF;
        object_flags:           bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER, OBJ_FLAG_ALLOW_BRIDGE);
//	animation_info:			[ANIMATION_LOOPING, 9];
//	animation_speed:		7;
//	animation_triggers:		3;
        height:                 1;
        num_views:              4;
    }
    graphics {
        default:            switch_cargo_vehicle_2_object;
        purchase:           switch_cargo_vehicle_2_purchase;
        autoslope:          return(CB_RESULT_AUTOSLOPE);
//      additional_text:    string(STR_tallmultipic_1_PURCHASE);
        additional_text:    switch_add_text_STR_cargo_vehicle_2;
	anim_control:    	return CB_RESULT_NEXT_FRAME;
	anim_next_frame: 	return CB_RESULT_NEXT_FRAME;
    }
}
/////////cargo_vehicle_3////////////
//TOP ROW NE + SNOW//
spriteset (spriteset_cargo_vehicle_3_1) {
    	template_tallmultipic(0,0,"gfx/normaltall_8.png")
	template_tallmultipic(70,0,"gfx/normaltall_8.png")
	template_tallmultipic(140,0,"gfx/normaltall_8.png")
	template_tallmultipic(210,0,"gfx/normaltall_8.png")
	template_tallmultipic(280,0,"gfx/normaltall_8.png")
	template_tallmultipic(350,0,"gfx/normaltall_8.png")
	template_tallmultipic(420,0,"gfx/normaltall_8.png")
	template_tallmultipic(490,0,"gfx/normaltall_8.png")
	template_tallmultipic(560,0,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_3_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_tallmultipic(0,0,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(70,0,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(140,0,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(210,0,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(280,0,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(350,0,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(420,0,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(490,0,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(560,0,"gfx/cargo_vehicle_3.png")
}

spriteset (spriteset_cargo_vehicle_3_1_snow) {
    	template_tallmultipic(0,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,0,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_cargo_vehicle_3_1_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,0,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(70,0,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(140,0,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(210,0,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(280,0,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(350,0,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(420,0,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(490,0,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(560,0,"gfx/cargo_vehicle_3_snow.png")
}

//2ND ROW NE + SNOW//
spriteset (spriteset_cargo_vehicle_3_2) {
    	template_tallmultipic(0,120,"gfx/normaltall_8.png")
	template_tallmultipic(70,120,"gfx/normaltall_8.png")
	template_tallmultipic(140,120,"gfx/normaltall_8.png")
	template_tallmultipic(210,120,"gfx/normaltall_8.png")
	template_tallmultipic(280,120,"gfx/normaltall_8.png")
	template_tallmultipic(350,120,"gfx/normaltall_8.png")
	template_tallmultipic(420,120,"gfx/normaltall_8.png")
	template_tallmultipic(490,120,"gfx/normaltall_8.png")
	template_tallmultipic(560,120,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_3_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(70,120,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(140,120,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(210,120,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(280,120,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(350,120,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(420,120,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(490,120,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(560,120,"gfx/cargo_vehicle_3.png")
}

spriteset (spriteset_cargo_vehicle_3_2_snow) {
    	template_tallmultipic(0,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,120,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_cargo_vehicle_3_2_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(70,120,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(140,120,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(210,120,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(280,120,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(350,120,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(420,120,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(490,120,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(560,120,"gfx/cargo_vehicle_3_snow.png")
}


//3RD ROW SE + SNOW//
spriteset (spriteset_cargo_vehicle_3_3) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_3_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(70,240,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(140,240,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(210,240,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(280,240,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(350,240,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(420,240,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(490,240,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(560,240,"gfx/cargo_vehicle_3.png")
}


spriteset (spriteset_cargo_vehicle_3_3_snow) {
    	template_tallmultipic(0,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,240,"gfx/normaltall_8_SNOW.png")
}


alternative_sprites (spriteset_cargo_vehicle_3_3_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(70,240,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(140,240,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(210,240,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(280,240,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(350,240,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(420,240,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(490,240,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(560,240,"gfx/cargo_vehicle_3_snow.png")
}


//4TH ROW + SNOW//
spriteset (spriteset_cargo_vehicle_3_4) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")	
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_3_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(70,360,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(140,360,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(210,360,"gfx/cargo_vehicle_3.png")	
	template_tallmultipic(280,360,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(350,360,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(420,360,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(490,360,"gfx/cargo_vehicle_3.png")
	template_tallmultipic(560,360,"gfx/cargo_vehicle_3.png")
}

spriteset (spriteset_cargo_vehicle_3_4_snow) {
    	template_tallmultipic(0,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,360,"gfx/normaltall_8_SNOW.png")	
	template_tallmultipic(280,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,360,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_cargo_vehicle_3_4_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(70,360,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(140,360,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(210,360,"gfx/cargo_vehicle_3_snow.png")	
	template_tallmultipic(280,360,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(350,360,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(420,360,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(490,360,"gfx/cargo_vehicle_3_snow.png")
	template_tallmultipic(560,360,"gfx/cargo_vehicle_3_snow.png")
}

spriteset (spriteset_cargo_vehicle_3_PURCHASE) {
    template_tallmultipic_purchase(0,0,"gfx/normaltall_8_PURCHASE.png")
}

alternative_sprites (spriteset_cargo_vehicle_3_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallmultipic_purchase(0,0,"gfx/cargo_vehicle_3_PURCHASE.png")
}


//OBJECT 1 SIMPLE tallmultipic//
//SPRITELAYOUTS//

//RURAL tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_3_1 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_3_1((animation_frame + nearby_tile_random_bits(0,0)) % 6);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_3_1_snow((animation_frame + nearby_tile_random_bits(0,0)) % 6);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }


}

spritelayout spritelayout_cargo_vehicle_3_1_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_3_PURCHASE(0);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//RURAL tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_3_2 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_3_2((animation_frame + nearby_tile_random_bits(0,0)) % 6);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_3_2_snow((animation_frame + nearby_tile_random_bits(0,0)) % 6);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_cargo_vehicle_3_2_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_3_PURCHASE(1);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//OBJECT 2 SIMPLE tallmultipic//
//tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_3_3 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_3_3((animation_frame + nearby_tile_random_bits(0,0)) % 8);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_3_3_snow((animation_frame + nearby_tile_random_bits(0,0)) % 8);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_cargo_vehicle_3_3_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_3_PURCHASE(2);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_3_4 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_3_4((animation_frame + nearby_tile_random_bits(0,0)) % 8);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_3_4_snow((animation_frame + nearby_tile_random_bits(0,0)) % 8);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_cargo_vehicle_3_4_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_3_PURCHASE(3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//decide spritelayout for each of the 4 views
switch (FEAT_OBJECTS, SELF, switch_cargo_vehicle_3_view, view) {
    1:  spritelayout_cargo_vehicle_3_2;
    2:  spritelayout_cargo_vehicle_3_3;
    3:  spritelayout_cargo_vehicle_3_4;
    spritelayout_cargo_vehicle_3_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_cargo_vehicle_3_object, [
        //tile slope offset in storage register 0
        STORE_TEMP(0, 0),
        //terrain type in storage register 1
        STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP( (nearby_tile_terrain_type(0,0) == TILETYPE_DESERT) * GROUNDSPRITE_DESERT, 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type(-1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0, 1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0,-1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
		STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
		STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_cargo_vehicle_3_view;
}

//decide spritelayout for the purchase menu
switch (FEAT_OBJECTS, SELF, switch_cargo_vehicle_3_purchase, view) {
    1:  spritelayout_cargo_vehicle_3_2_purchase;
    2:  spritelayout_cargo_vehicle_3_3_purchase;
    3:  spritelayout_cargo_vehicle_3_4_purchase;
    spritelayout_cargo_vehicle_3_1_purchase;
}

switch (FEAT_OBJECTS, SELF, switch_add_text_STR_cargo_vehicle_3, view) {
1: string(STR_cargo_vehicle_3_purchase_view2);
2: string(STR_cargo_vehicle_3_purchase_view3);
3: string(STR_cargo_vehicle_3_purchase_view4);
default: string(STR_cargo_vehicle_3_purchase_view1);
}

item (FEAT_OBJECTS, item_cargo_vehicle_3, 103) {
    property {
        class:                  "CAVE";
	    classname:		        string(STR_CAVE);
        name:                   string(STR_cargo_vehicle_3);
        climates_available:     ALL_CLIMATES;
        size:                   [1,1];
        build_cost_multiplier:  0;
        remove_cost_multiplier: 0;
        introduction_date:      date(1111,1,1);
        end_of_life_date:       0xFFFFFFFF;
        object_flags:           bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER, OBJ_FLAG_ALLOW_BRIDGE);
//	animation_info:			[ANIMATION_LOOPING, 9];
//	animation_speed:		7;
//	animation_triggers:		3;
        height:                 1;
        num_views:              4;
    }
    graphics {
        default:            switch_cargo_vehicle_3_object;
        purchase:           switch_cargo_vehicle_3_purchase;
        autoslope:          return(CB_RESULT_AUTOSLOPE);
//      additional_text:    string(STR_tallmultipic_1_PURCHASE);
        additional_text:    switch_add_text_STR_cargo_vehicle_3;
	anim_control:    	return CB_RESULT_NEXT_FRAME;
	anim_next_frame: 	return CB_RESULT_NEXT_FRAME;
    }
}
////cargo_vehicle_4////////////
//TOP ROW NE + SNOW//
spriteset (spriteset_cargo_vehicle_4_1) {
    	template_tallmultipic(0,0,"gfx/normaltall_8.png")
	template_tallmultipic(70,0,"gfx/normaltall_8.png")
	template_tallmultipic(140,0,"gfx/normaltall_8.png")
	template_tallmultipic(210,0,"gfx/normaltall_8.png")
	template_tallmultipic(280,0,"gfx/normaltall_8.png")
	template_tallmultipic(350,0,"gfx/normaltall_8.png")
	template_tallmultipic(420,0,"gfx/normaltall_8.png")
	template_tallmultipic(490,0,"gfx/normaltall_8.png")
	template_tallmultipic(560,0,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_4_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_tallmultipic(0,0,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(70,0,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(140,0,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(210,0,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(280,0,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(350,0,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(420,0,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(490,0,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(560,0,"gfx/cargo_vehicle_4.png")
}

spriteset (spriteset_cargo_vehicle_4_1_snow) {
    	template_tallmultipic(0,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,0,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_cargo_vehicle_4_1_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,0,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(70,0,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(140,0,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(210,0,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(280,0,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(350,0,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(420,0,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(490,0,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(560,0,"gfx/cargo_vehicle_4_snow.png")
}

//2ND ROW NE + SNOW//
spriteset (spriteset_cargo_vehicle_4_2) {
    	template_tallmultipic(0,120,"gfx/normaltall_8.png")
	template_tallmultipic(70,120,"gfx/normaltall_8.png")
	template_tallmultipic(140,120,"gfx/normaltall_8.png")
	template_tallmultipic(210,120,"gfx/normaltall_8.png")
	template_tallmultipic(280,120,"gfx/normaltall_8.png")
	template_tallmultipic(350,120,"gfx/normaltall_8.png")
	template_tallmultipic(420,120,"gfx/normaltall_8.png")
	template_tallmultipic(490,120,"gfx/normaltall_8.png")
	template_tallmultipic(560,120,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_4_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(70,120,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(140,120,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(210,120,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(280,120,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(350,120,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(420,120,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(490,120,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(560,120,"gfx/cargo_vehicle_4.png")
}

spriteset (spriteset_cargo_vehicle_4_2_snow) {
    	template_tallmultipic(0,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,120,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_cargo_vehicle_4_2_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(70,120,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(140,120,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(210,120,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(280,120,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(350,120,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(420,120,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(490,120,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(560,120,"gfx/cargo_vehicle_4_snow.png")
}


//3RD ROW SE + SNOW//
spriteset (spriteset_cargo_vehicle_4_3) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_4_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(70,240,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(140,240,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(210,240,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(280,240,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(350,240,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(420,240,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(490,240,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(560,240,"gfx/cargo_vehicle_4.png")
}


spriteset (spriteset_cargo_vehicle_4_3_snow) {
    	template_tallmultipic(0,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,240,"gfx/normaltall_8_SNOW.png")
}


alternative_sprites (spriteset_cargo_vehicle_4_3_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(70,240,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(140,240,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(210,240,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(280,240,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(350,240,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(420,240,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(490,240,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(560,240,"gfx/cargo_vehicle_4_snow.png")
}


//4TH ROW + SNOW//
spriteset (spriteset_cargo_vehicle_4_4) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")	
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_4_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(70,360,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(140,360,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(210,360,"gfx/cargo_vehicle_4.png")	
	template_tallmultipic(280,360,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(350,360,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(420,360,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(490,360,"gfx/cargo_vehicle_4.png")
	template_tallmultipic(560,360,"gfx/cargo_vehicle_4.png")
}

spriteset (spriteset_cargo_vehicle_4_4_snow) {
    	template_tallmultipic(0,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,360,"gfx/normaltall_8_SNOW.png")	
	template_tallmultipic(280,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,360,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_cargo_vehicle_4_4_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(70,360,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(140,360,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(210,360,"gfx/cargo_vehicle_4_snow.png")	
	template_tallmultipic(280,360,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(350,360,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(420,360,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(490,360,"gfx/cargo_vehicle_4_snow.png")
	template_tallmultipic(560,360,"gfx/cargo_vehicle_4_snow.png")
}

spriteset (spriteset_cargo_vehicle_4_PURCHASE) {
    template_tallmultipic_purchase(0,0,"gfx/normaltall_8_PURCHASE.png")
}

alternative_sprites (spriteset_cargo_vehicle_4_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallmultipic_purchase(0,0,"gfx/cargo_vehicle_4_PURCHASE.png")
}


//OBJECT 1 SIMPLE tallmultipic//
//SPRITELAYOUTS//

//RURAL tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_4_1 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_4_1((animation_frame + nearby_tile_random_bits(0,0)) % 6);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_4_1_snow((animation_frame + nearby_tile_random_bits(0,0)) % 6);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }


}

spritelayout spritelayout_cargo_vehicle_4_1_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_4_PURCHASE(0);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//RURAL tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_4_2 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_4_2((animation_frame + nearby_tile_random_bits(0,0)) % 6);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_4_2_snow((animation_frame + nearby_tile_random_bits(0,0)) % 6);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_cargo_vehicle_4_2_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_4_PURCHASE(1);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//OBJECT 2 SIMPLE tallmultipic//
//tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_4_3 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_4_3((animation_frame + nearby_tile_random_bits(0,0)) % 8);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_4_3_snow((animation_frame + nearby_tile_random_bits(0,0)) % 8);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_cargo_vehicle_4_3_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_4_PURCHASE(2);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_4_4 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_4_4((animation_frame + nearby_tile_random_bits(0,0)) % 8);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_4_4_snow((animation_frame + nearby_tile_random_bits(0,0)) % 8);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_cargo_vehicle_4_4_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_4_PURCHASE(3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//decide spritelayout for each of the 4 views
switch (FEAT_OBJECTS, SELF, switch_cargo_vehicle_4_view, view) {
    1:  spritelayout_cargo_vehicle_4_2;
    2:  spritelayout_cargo_vehicle_4_3;
    3:  spritelayout_cargo_vehicle_4_4;
    spritelayout_cargo_vehicle_4_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_cargo_vehicle_4_object, [
        //tile slope offset in storage register 0
        STORE_TEMP(0, 0),
        //terrain type in storage register 1
        STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP( (nearby_tile_terrain_type(0,0) == TILETYPE_DESERT) * GROUNDSPRITE_DESERT, 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type(-1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0, 1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0,-1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
		STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
		STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_cargo_vehicle_4_view;
}

//decide spritelayout for the purchase menu
switch (FEAT_OBJECTS, SELF, switch_cargo_vehicle_4_purchase, view) {
    1:  spritelayout_cargo_vehicle_4_2_purchase;
    2:  spritelayout_cargo_vehicle_4_3_purchase;
    3:  spritelayout_cargo_vehicle_4_4_purchase;
    spritelayout_cargo_vehicle_4_1_purchase;
}

switch (FEAT_OBJECTS, SELF, switch_add_text_STR_cargo_vehicle_4, view) {
1: string(STR_cargo_vehicle_4_purchase_view2);
2: string(STR_cargo_vehicle_4_purchase_view3);
3: string(STR_cargo_vehicle_4_purchase_view4);
default: string(STR_cargo_vehicle_4_purchase_view1);
}

item (FEAT_OBJECTS, item_cargo_vehicle_4, 104) {
    property {
        class:                  "CAVE";
	    classname:		        string(STR_CAVE);
        name:                   string(STR_cargo_vehicle_4);
        climates_available:     ALL_CLIMATES;
        size:                   [1,1];
        build_cost_multiplier:  0;
        remove_cost_multiplier: 0;
        introduction_date:      date(1111,1,1);
        end_of_life_date:       0xFFFFFFFF;
        object_flags:           bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER, OBJ_FLAG_ALLOW_BRIDGE);
//	animation_info:			[ANIMATION_LOOPING, 9];
//	animation_speed:		7;
//	animation_triggers:		3;
        height:                 1;
        num_views:              4;
    }
    graphics {
        default:            switch_cargo_vehicle_4_object;
        purchase:           switch_cargo_vehicle_4_purchase;
        autoslope:          return(CB_RESULT_AUTOSLOPE);
//      additional_text:    string(STR_tallmultipic_1_PURCHASE);
        additional_text:    switch_add_text_STR_cargo_vehicle_4;
	anim_control:    	return CB_RESULT_NEXT_FRAME;
	anim_next_frame: 	return CB_RESULT_NEXT_FRAME;
    }
}
///cargo 5////////
//TOP ROW NE + SNOW//
spriteset (spriteset_cargo_vehicle_5_1) {
    	template_tallmultipic(0,0,"gfx/normaltall_8.png")
	template_tallmultipic(70,0,"gfx/normaltall_8.png")
	template_tallmultipic(140,0,"gfx/normaltall_8.png")
	template_tallmultipic(210,0,"gfx/normaltall_8.png")
	template_tallmultipic(280,0,"gfx/normaltall_8.png")
	template_tallmultipic(350,0,"gfx/normaltall_8.png")
	template_tallmultipic(420,0,"gfx/normaltall_8.png")
	template_tallmultipic(490,0,"gfx/normaltall_8.png")
	template_tallmultipic(560,0,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_5_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_tallmultipic(0,0,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(70,0,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(140,0,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(210,0,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(280,0,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(350,0,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(420,0,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(490,0,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(560,0,"gfx/cargo_vehicle_5.png")
}

spriteset (spriteset_cargo_vehicle_5_1_snow) {
    	template_tallmultipic(0,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,0,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_cargo_vehicle_5_1_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,0,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(70,0,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(140,0,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(210,0,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(280,0,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(350,0,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(420,0,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(490,0,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(560,0,"gfx/cargo_vehicle_5_snow.png")
}

//2ND ROW NE + SNOW//
spriteset (spriteset_cargo_vehicle_5_2) {
    	template_tallmultipic(0,120,"gfx/normaltall_8.png")
	template_tallmultipic(70,120,"gfx/normaltall_8.png")
	template_tallmultipic(140,120,"gfx/normaltall_8.png")
	template_tallmultipic(210,120,"gfx/normaltall_8.png")
	template_tallmultipic(280,120,"gfx/normaltall_8.png")
	template_tallmultipic(350,120,"gfx/normaltall_8.png")
	template_tallmultipic(420,120,"gfx/normaltall_8.png")
	template_tallmultipic(490,120,"gfx/normaltall_8.png")
	template_tallmultipic(560,120,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_5_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(70,120,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(140,120,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(210,120,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(280,120,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(350,120,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(420,120,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(490,120,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(560,120,"gfx/cargo_vehicle_5.png")
}

spriteset (spriteset_cargo_vehicle_5_2_snow) {
    	template_tallmultipic(0,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,120,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_cargo_vehicle_5_2_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(70,120,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(140,120,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(210,120,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(280,120,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(350,120,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(420,120,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(490,120,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(560,120,"gfx/cargo_vehicle_5_snow.png")
}


//3RD ROW SE + SNOW//
spriteset (spriteset_cargo_vehicle_5_3) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_5_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(70,240,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(140,240,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(210,240,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(280,240,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(350,240,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(420,240,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(490,240,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(560,240,"gfx/cargo_vehicle_5.png")
}


spriteset (spriteset_cargo_vehicle_5_3_snow) {
    	template_tallmultipic(0,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,240,"gfx/normaltall_8_SNOW.png")
}


alternative_sprites (spriteset_cargo_vehicle_5_3_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(70,240,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(140,240,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(210,240,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(280,240,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(350,240,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(420,240,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(490,240,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(560,240,"gfx/cargo_vehicle_5_snow.png")
}


//4TH ROW + SNOW//
spriteset (spriteset_cargo_vehicle_5_4) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")	
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_5_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(70,360,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(140,360,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(210,360,"gfx/cargo_vehicle_5.png")	
	template_tallmultipic(280,360,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(350,360,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(420,360,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(490,360,"gfx/cargo_vehicle_5.png")
	template_tallmultipic(560,360,"gfx/cargo_vehicle_5.png")
}

spriteset (spriteset_cargo_vehicle_5_4_snow) {
    	template_tallmultipic(0,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,360,"gfx/normaltall_8_SNOW.png")	
	template_tallmultipic(280,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,360,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_cargo_vehicle_5_4_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(70,360,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(140,360,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(210,360,"gfx/cargo_vehicle_5_snow.png")	
	template_tallmultipic(280,360,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(350,360,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(420,360,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(490,360,"gfx/cargo_vehicle_5_snow.png")
	template_tallmultipic(560,360,"gfx/cargo_vehicle_5_snow.png")
}

spriteset (spriteset_cargo_vehicle_5_PURCHASE) {
    template_tallmultipic_purchase(0,0,"gfx/normaltall_8_PURCHASE.png")
}

alternative_sprites (spriteset_cargo_vehicle_5_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallmultipic_purchase(0,0,"gfx/cargo_vehicle_5_PURCHASE.png")
}


//OBJECT 1 SIMPLE tallmultipic//
//SPRITELAYOUTS//

//RURAL tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_5_1 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_5_1((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_5_1_snow((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }


}

spritelayout spritelayout_cargo_vehicle_5_1_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_5_PURCHASE(0);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//RURAL tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_5_2 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_5_2((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_5_2_snow((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_cargo_vehicle_5_2_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_5_PURCHASE(1);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//OBJECT 2 SIMPLE tallmultipic//
//tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_5_3 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_5_3((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_5_3_snow((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_cargo_vehicle_5_3_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_5_PURCHASE(2);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_5_4 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_5_4((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_5_4_snow((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_cargo_vehicle_5_4_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_5_PURCHASE(3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//decide spritelayout for each of the 4 views
switch (FEAT_OBJECTS, SELF, switch_cargo_vehicle_5_view, view) {
    1:  spritelayout_cargo_vehicle_5_2;
    2:  spritelayout_cargo_vehicle_5_3;
    3:  spritelayout_cargo_vehicle_5_4;
    spritelayout_cargo_vehicle_5_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_cargo_vehicle_5_object, [
//tile slope offset in storage register 0
        STORE_TEMP(slope_to_sprite_offset(tile_slope), 0),
        //terrain type in storage register 1
//    STORE_TEMP(0, 0),
        //terrain type in storage register 1
        STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP( (nearby_tile_terrain_type(0,0) == TILETYPE_DESERT) * GROUNDSPRITE_DESERT, 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type(-1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0, 1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0,-1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
		STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
		STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_cargo_vehicle_5_view;
}

//decide spritelayout for the purchase menu
switch (FEAT_OBJECTS, SELF, switch_cargo_vehicle_5_purchase, view) {
    1:  spritelayout_cargo_vehicle_5_2_purchase;
    2:  spritelayout_cargo_vehicle_5_3_purchase;
    3:  spritelayout_cargo_vehicle_5_4_purchase;
    spritelayout_cargo_vehicle_5_1_purchase;
}

switch (FEAT_OBJECTS, SELF, switch_add_text_STR_cargo_vehicle_5, view) {
1: string(STR_cargo_vehicle_5_purchase_view2);
2: string(STR_cargo_vehicle_5_purchase_view3);
3: string(STR_cargo_vehicle_5_purchase_view4);
default: string(STR_cargo_vehicle_5_purchase_view1);
}

item (FEAT_OBJECTS, item_cargo_vehicle_5, 105) {
    property {
        class:                  "CAVE";
	    classname:		        string(STR_CAVE);
        name:                   string(STR_cargo_vehicle_5);
        climates_available:     ALL_CLIMATES;
        size:                   [1,1];
        build_cost_multiplier:  0;
        remove_cost_multiplier: 0;
        introduction_date:      date(1111,1,1);
        end_of_life_date:       0xFFFFFFFF;
        object_flags:           bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER, OBJ_FLAG_ALLOW_BRIDGE, OBJ_FLAG_DRAW_WATER, OBJ_FLAG_NO_FOUNDATIONS);
//	animation_info:			[ANIMATION_LOOPING, 9];
//	animation_speed:		7;
//	animation_triggers:		3;
        height:                 1;
        num_views:              4;
    }
    graphics {
        default:            switch_cargo_vehicle_5_object;
        purchase:           switch_cargo_vehicle_5_purchase;
        autoslope:          return(CB_RESULT_AUTOSLOPE);
//      additional_text:    string(STR_tallmultipic_1_PURCHASE);
        additional_text:    switch_add_text_STR_cargo_vehicle_5;
	anim_control:    	return CB_RESULT_NEXT_FRAME;
	anim_next_frame: 	return CB_RESULT_NEXT_FRAME;
    }
}
///cargo 6////////
//TOP ROW NE + SNOW//
spriteset (spriteset_cargo_vehicle_6_1) {
    	template_tallmultipic(0,0,"gfx/normaltall_8.png")
	template_tallmultipic(70,0,"gfx/normaltall_8.png")
	template_tallmultipic(140,0,"gfx/normaltall_8.png")
	template_tallmultipic(210,0,"gfx/normaltall_8.png")
	template_tallmultipic(280,0,"gfx/normaltall_8.png")
	template_tallmultipic(350,0,"gfx/normaltall_8.png")
	template_tallmultipic(420,0,"gfx/normaltall_8.png")
	template_tallmultipic(490,0,"gfx/normaltall_8.png")
	template_tallmultipic(560,0,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_6_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_tallmultipic(0,0,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(70,0,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(140,0,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(210,0,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(280,0,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(350,0,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(420,0,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(490,0,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(560,0,"gfx/cargo_vehicle_6.png")
}

spriteset (spriteset_cargo_vehicle_6_1_snow) {
    	template_tallmultipic(0,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,0,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_cargo_vehicle_6_1_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,0,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(70,0,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(140,0,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(210,0,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(280,0,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(350,0,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(420,0,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(490,0,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(560,0,"gfx/cargo_vehicle_6_snow.png")
}

//2ND ROW NE + SNOW//
spriteset (spriteset_cargo_vehicle_6_2) {
    	template_tallmultipic(0,120,"gfx/normaltall_8.png")
	template_tallmultipic(70,120,"gfx/normaltall_8.png")
	template_tallmultipic(140,120,"gfx/normaltall_8.png")
	template_tallmultipic(210,120,"gfx/normaltall_8.png")
	template_tallmultipic(280,120,"gfx/normaltall_8.png")
	template_tallmultipic(350,120,"gfx/normaltall_8.png")
	template_tallmultipic(420,120,"gfx/normaltall_8.png")
	template_tallmultipic(490,120,"gfx/normaltall_8.png")
	template_tallmultipic(560,120,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_6_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(70,120,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(140,120,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(210,120,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(280,120,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(350,120,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(420,120,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(490,120,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(560,120,"gfx/cargo_vehicle_6.png")
}

spriteset (spriteset_cargo_vehicle_6_2_snow) {
    	template_tallmultipic(0,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,120,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_cargo_vehicle_6_2_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(70,120,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(140,120,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(210,120,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(280,120,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(350,120,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(420,120,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(490,120,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(560,120,"gfx/cargo_vehicle_6_snow.png")
}


//3RD ROW SE + SNOW//
spriteset (spriteset_cargo_vehicle_6_3) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_6_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(70,240,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(140,240,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(210,240,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(280,240,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(350,240,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(420,240,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(490,240,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(560,240,"gfx/cargo_vehicle_6.png")
}


spriteset (spriteset_cargo_vehicle_6_3_snow) {
    	template_tallmultipic(0,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,240,"gfx/normaltall_8_SNOW.png")
}


alternative_sprites (spriteset_cargo_vehicle_6_3_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(70,240,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(140,240,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(210,240,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(280,240,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(350,240,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(420,240,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(490,240,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(560,240,"gfx/cargo_vehicle_6_snow.png")
}


//4TH ROW + SNOW//
spriteset (spriteset_cargo_vehicle_6_4) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")	
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_6_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(70,360,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(140,360,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(210,360,"gfx/cargo_vehicle_6.png")	
	template_tallmultipic(280,360,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(350,360,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(420,360,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(490,360,"gfx/cargo_vehicle_6.png")
	template_tallmultipic(560,360,"gfx/cargo_vehicle_6.png")
}

spriteset (spriteset_cargo_vehicle_6_4_snow) {
    	template_tallmultipic(0,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,360,"gfx/normaltall_8_SNOW.png")	
	template_tallmultipic(280,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,360,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_cargo_vehicle_6_4_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(70,360,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(140,360,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(210,360,"gfx/cargo_vehicle_6_snow.png")	
	template_tallmultipic(280,360,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(350,360,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(420,360,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(490,360,"gfx/cargo_vehicle_6_snow.png")
	template_tallmultipic(560,360,"gfx/cargo_vehicle_6_snow.png")
}

spriteset (spriteset_cargo_vehicle_6_PURCHASE) {
    template_tallmultipic_purchase(0,0,"gfx/normaltall_8_PURCHASE.png")
}

alternative_sprites (spriteset_cargo_vehicle_6_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallmultipic_purchase(0,0,"gfx/cargo_vehicle_6_PURCHASE.png")
}


//OBJECT 1 SIMPLE tallmultipic//
//SPRITELAYOUTS//

//RURAL tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_6_1 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_6_1((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_6_1_snow((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }


}

spritelayout spritelayout_cargo_vehicle_6_1_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_6_PURCHASE(0);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//RURAL tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_6_2 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_6_2((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_6_2_snow((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_cargo_vehicle_6_2_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_6_PURCHASE(1);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//OBJECT 2 SIMPLE tallmultipic//
//tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_6_3 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_6_3((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_6_3_snow((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_cargo_vehicle_6_3_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_6_PURCHASE(2);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_6_4 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_6_4((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_6_4_snow((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_cargo_vehicle_6_4_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_6_PURCHASE(3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//decide spritelayout for each of the 4 views
switch (FEAT_OBJECTS, SELF, switch_cargo_vehicle_6_view, view) {
    1:  spritelayout_cargo_vehicle_6_2;
    2:  spritelayout_cargo_vehicle_6_3;
    3:  spritelayout_cargo_vehicle_6_4;
    spritelayout_cargo_vehicle_6_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_cargo_vehicle_6_object, [
//tile slope offset in storage register 0
        STORE_TEMP(slope_to_sprite_offset(tile_slope), 0),
        //terrain type in storage register 1
//    STORE_TEMP(0, 0),
        //terrain type in storage register 1
        STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP( (nearby_tile_terrain_type(0,0) == TILETYPE_DESERT) * GROUNDSPRITE_DESERT, 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type(-1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0, 1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0,-1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
		STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
		STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_cargo_vehicle_6_view;
}

//decide spritelayout for the purchase menu
switch (FEAT_OBJECTS, SELF, switch_cargo_vehicle_6_purchase, view) {
    1:  spritelayout_cargo_vehicle_6_2_purchase;
    2:  spritelayout_cargo_vehicle_6_3_purchase;
    3:  spritelayout_cargo_vehicle_6_4_purchase;
    spritelayout_cargo_vehicle_6_1_purchase;
}

switch (FEAT_OBJECTS, SELF, switch_add_text_STR_cargo_vehicle_6, view) {
1: string(STR_cargo_vehicle_6_purchase_view2);
2: string(STR_cargo_vehicle_6_purchase_view3);
3: string(STR_cargo_vehicle_6_purchase_view4);
default: string(STR_cargo_vehicle_6_purchase_view1);
}

item (FEAT_OBJECTS, item_cargo_vehicle_6, 106) {
    property {
        class:                  "CAVE";
	    classname:		        string(STR_CAVE);
        name:                   string(STR_cargo_vehicle_6);
        climates_available:     ALL_CLIMATES;
        size:                   [1,1];
        build_cost_multiplier:  0;
        remove_cost_multiplier: 0;
        introduction_date:      date(1111,1,1);
        end_of_life_date:       0xFFFFFFFF;
        object_flags:           bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER, OBJ_FLAG_ALLOW_BRIDGE, OBJ_FLAG_DRAW_WATER, OBJ_FLAG_NO_FOUNDATIONS);
//	animation_info:			[ANIMATION_LOOPING, 9];
//	animation_speed:		7;
//	animation_triggers:		3;
        height:                 1;
        num_views:              4;
    }
    graphics {
        default:            switch_cargo_vehicle_6_object;
        purchase:           switch_cargo_vehicle_6_purchase;
        autoslope:          return(CB_RESULT_AUTOSLOPE);
//      additional_text:    string(STR_tallmultipic_1_PURCHASE);
        additional_text:    switch_add_text_STR_cargo_vehicle_6;
	anim_control:    	return CB_RESULT_NEXT_FRAME;
	anim_next_frame: 	return CB_RESULT_NEXT_FRAME;
    }
}
////cargo7//////
//TOP ROW NE + SNOW//
spriteset (spriteset_cargo_vehicle_7_1) {
    	template_tallmultipic(0,0,"gfx/normaltall_8.png")
	template_tallmultipic(70,0,"gfx/normaltall_8.png")
	template_tallmultipic(140,0,"gfx/normaltall_8.png")
	template_tallmultipic(210,0,"gfx/normaltall_8.png")
	template_tallmultipic(280,0,"gfx/normaltall_8.png")
	template_tallmultipic(350,0,"gfx/normaltall_8.png")
	template_tallmultipic(420,0,"gfx/normaltall_8.png")
	template_tallmultipic(490,0,"gfx/normaltall_8.png")
	template_tallmultipic(560,0,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_7_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_tallmultipic(0,0,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(70,0,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(140,0,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(210,0,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(280,0,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(350,0,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(420,0,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(490,0,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(560,0,"gfx/cargo_vehicle_7.png")
}

spriteset (spriteset_cargo_vehicle_7_1_snow) {
    	template_tallmultipic(0,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,0,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_cargo_vehicle_7_1_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,0,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(70,0,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(140,0,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(210,0,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(280,0,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(350,0,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(420,0,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(490,0,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(560,0,"gfx/cargo_vehicle_7_snow.png")
}

//2ND ROW NE + SNOW//
spriteset (spriteset_cargo_vehicle_7_2) {
    	template_tallmultipic(0,120,"gfx/normaltall_8.png")
	template_tallmultipic(70,120,"gfx/normaltall_8.png")
	template_tallmultipic(140,120,"gfx/normaltall_8.png")
	template_tallmultipic(210,120,"gfx/normaltall_8.png")
	template_tallmultipic(280,120,"gfx/normaltall_8.png")
	template_tallmultipic(350,120,"gfx/normaltall_8.png")
	template_tallmultipic(420,120,"gfx/normaltall_8.png")
	template_tallmultipic(490,120,"gfx/normaltall_8.png")
	template_tallmultipic(560,120,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_7_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(70,120,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(140,120,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(210,120,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(280,120,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(350,120,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(420,120,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(490,120,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(560,120,"gfx/cargo_vehicle_7.png")
}

spriteset (spriteset_cargo_vehicle_7_2_snow) {
    	template_tallmultipic(0,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,120,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_cargo_vehicle_7_2_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(70,120,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(140,120,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(210,120,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(280,120,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(350,120,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(420,120,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(490,120,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(560,120,"gfx/cargo_vehicle_7_snow.png")
}


//3RD ROW SE + SNOW//
spriteset (spriteset_cargo_vehicle_7_3) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_7_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(70,240,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(140,240,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(210,240,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(280,240,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(350,240,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(420,240,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(490,240,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(560,240,"gfx/cargo_vehicle_7.png")
}


spriteset (spriteset_cargo_vehicle_7_3_snow) {
    	template_tallmultipic(0,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,240,"gfx/normaltall_8_SNOW.png")
}


alternative_sprites (spriteset_cargo_vehicle_7_3_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(70,240,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(140,240,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(210,240,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(280,240,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(350,240,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(420,240,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(490,240,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(560,240,"gfx/cargo_vehicle_7_snow.png")
}


//4TH ROW + SNOW//
spriteset (spriteset_cargo_vehicle_7_4) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")	
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_cargo_vehicle_7_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(70,360,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(140,360,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(210,360,"gfx/cargo_vehicle_7.png")	
	template_tallmultipic(280,360,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(350,360,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(420,360,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(490,360,"gfx/cargo_vehicle_7.png")
	template_tallmultipic(560,360,"gfx/cargo_vehicle_7.png")
}

spriteset (spriteset_cargo_vehicle_7_4_snow) {
    	template_tallmultipic(0,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,360,"gfx/normaltall_8_SNOW.png")	
	template_tallmultipic(280,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,360,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_cargo_vehicle_7_4_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(70,360,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(140,360,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(210,360,"gfx/cargo_vehicle_7_snow.png")	
	template_tallmultipic(280,360,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(350,360,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(420,360,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(490,360,"gfx/cargo_vehicle_7_snow.png")
	template_tallmultipic(560,360,"gfx/cargo_vehicle_7_snow.png")
}

spriteset (spriteset_cargo_vehicle_7_PURCHASE) {
    template_tallmultipic_purchase(0,0,"gfx/normaltall_8_PURCHASE.png")
}

alternative_sprites (spriteset_cargo_vehicle_7_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallmultipic_purchase(0,0,"gfx/cargo_vehicle_7_PURCHASE.png")
}


//OBJECT 1 SIMPLE tallmultipic//
//SPRITELAYOUTS//

//RURAL tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_7_1 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_7_1((animation_frame + nearby_tile_random_bits(0,0)) % 8);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_7_1_snow((animation_frame + nearby_tile_random_bits(0,0)) % 8);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }


}

spritelayout spritelayout_cargo_vehicle_7_1_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_7_PURCHASE(0);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//RURAL tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_7_2 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_7_2((animation_frame + nearby_tile_random_bits(0,0)) % 8);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_7_2_snow((animation_frame + nearby_tile_random_bits(0,0)) % 8);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_cargo_vehicle_7_2_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_7_PURCHASE(1);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//OBJECT 2 SIMPLE tallmultipic//
//tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_7_3 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_7_3((animation_frame + nearby_tile_random_bits(0,0)) % 8);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_7_3_snow((animation_frame + nearby_tile_random_bits(0,0)) % 8);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_cargo_vehicle_7_3_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_7_PURCHASE(2);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_cargo_vehicle_7_4 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_cargo_vehicle_7_4((animation_frame + nearby_tile_random_bits(0,0)) % 8);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_cargo_vehicle_7_4_snow((animation_frame + nearby_tile_random_bits(0,0)) % 8);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_cargo_vehicle_7_4_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_cargo_vehicle_7_PURCHASE(3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//decide spritelayout for each of the 4 views
switch (FEAT_OBJECTS, SELF, switch_cargo_vehicle_7_view, view) {
    1:  spritelayout_cargo_vehicle_7_2;
    2:  spritelayout_cargo_vehicle_7_3;
    3:  spritelayout_cargo_vehicle_7_4;
    spritelayout_cargo_vehicle_7_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_cargo_vehicle_7_object, [
//tile slope offset in storage register 0
        STORE_TEMP(slope_to_sprite_offset(tile_slope), 0),
        //terrain type in storage register 1
//    STORE_TEMP(0, 0),
        //terrain type in storage register 1
        STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP( (nearby_tile_terrain_type(0,0) == TILETYPE_DESERT) * GROUNDSPRITE_DESERT, 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type(-1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0, 1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0,-1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
		STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
		STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_cargo_vehicle_7_view;
}

//decide spritelayout for the purchase menu
switch (FEAT_OBJECTS, SELF, switch_cargo_vehicle_7_purchase, view) {
    1:  spritelayout_cargo_vehicle_7_2_purchase;
    2:  spritelayout_cargo_vehicle_7_3_purchase;
    3:  spritelayout_cargo_vehicle_7_4_purchase;
    spritelayout_cargo_vehicle_7_1_purchase;
}

switch (FEAT_OBJECTS, SELF, switch_add_text_STR_cargo_vehicle_7, view) {
1: string(STR_cargo_vehicle_7_purchase_view2);
2: string(STR_cargo_vehicle_7_purchase_view3);
3: string(STR_cargo_vehicle_7_purchase_view4);
default: string(STR_cargo_vehicle_7_purchase_view1);
}

item (FEAT_OBJECTS, item_cargo_vehicle_7, 107) {
    property {
        class:                  "CAVE";
	    classname:		        string(STR_CAVE);
        name:                   string(STR_cargo_vehicle_7);
        climates_available:     ALL_CLIMATES;
        size:                   [1,1];
        build_cost_multiplier:  0;
        remove_cost_multiplier: 0;
        introduction_date:      date(1111,1,1);
        end_of_life_date:       0xFFFFFFFF;
        object_flags:           bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER, OBJ_FLAG_ALLOW_BRIDGE, OBJ_FLAG_DRAW_WATER, OBJ_FLAG_NO_FOUNDATIONS);
//	animation_info:			[ANIMATION_LOOPING, 9];
//	animation_speed:		7;
//	animation_triggers:		3;
        height:                 1;
        num_views:              4;
    }
    graphics {
        default:            switch_cargo_vehicle_7_object;
        purchase:           switch_cargo_vehicle_7_purchase;
        autoslope:          return(CB_RESULT_AUTOSLOPE);
//      additional_text:    string(STR_tallmultipic_1_PURCHASE);
        additional_text:    switch_add_text_STR_cargo_vehicle_7;
	anim_control:    	return CB_RESULT_NEXT_FRAME;
	anim_next_frame: 	return CB_RESULT_NEXT_FRAME;
    }
}
/////warehouses/buildings/////////////
//template for the purchase menu
template template_2x2_purchase(x,y,filename) {
    [x, y, 128, 200, -95, -169, filename]
    [x+133, y, 128, 200, -95, -169, filename]
    [x+266, y, 128, 200, -95, -169, filename]
    [x+399, y, 128, 200, -95, -169, filename]
	
}

//template for sprite tile.1
template template_2x2_t1(x,y,filename) {
    [x+32, y, 64, 168, -31, -137, filename]
    [x+165, y, 64, 168, -31, -137, filename]
    [x+298, y, 64, 168, -31, -137, filename]
    [x+431, y, 64, 168, -31, -137, filename]
	
}

//template for sprite tile.2
template template_2x2_t2(x,y,filename) {
    [x+64, y, 64, 184, -31, -153, filename]
    [x+197, y, 64, 184, -31, -153, filename]
    [x+330, y, 64, 184, -31, -153, filename]
    [x+463, y, 64, 184, -31, -153, filename]
	
}

//template for sprite tile.3
template template_2x2_t3(x,y,filename) {
    [x, y, 64, 184, -31, -153, filename]
    [x+133, y, 64, 184, -31, -153, filename]
    [x+266, y, 64, 184, -31, -153, filename]
    [x+399, y, 64, 184, -31, -153, filename]
	
}

//template for sprite tile.4
template template_2x2_t4(x,y,filename) {
    [x+32, y, 64, 200, -31, -169, filename]
    [x+165, y, 64, 200, -31, -169, filename]
    [x+298, y, 64, 200, -31, -169, filename]
    [x+431, y, 64, 200, -31, -169, filename]
	
}
spriteset (spriteset_warehouses_and_buildings_1_t1) {
    template_2x2_t1(0,0,"gfx/template_2x2_001_8.png")
}
alternative_sprites (spriteset_warehouses_and_buildings_1_t1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_2x2_t1(0,0,"gfx/warehouses_and_buildings_1.png")
}

spriteset (spriteset_warehouses_and_buildings_1_t2) {
    template_2x2_t2(0,0,"gfx/template_2x2_001_8.png")
}
alternative_sprites (spriteset_warehouses_and_buildings_1_t2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_2x2_t2(0,0,"gfx/warehouses_and_buildings_1.png")
}

spriteset (spriteset_warehouses_and_buildings_1_t3) {
    template_2x2_t3(0,0,"gfx/template_2x2_001_8.png")
}
alternative_sprites (spriteset_warehouses_and_buildings_1_t3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_2x2_t3(0,0,"gfx/warehouses_and_buildings_1.png")
}

spriteset (spriteset_warehouses_and_buildings_1_t4) {
    template_2x2_t4(0,0,"gfx/template_2x2_001_8.png")
}
alternative_sprites (spriteset_warehouses_and_buildings_1_t4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_2x2_t4(0,0,"gfx/warehouses_and_buildings_1.png")
}
//snow version
spriteset (spriteset_warehouses_and_buildings_1_t1_SNOW) {
    template_2x2_t1(0,0,"gfx/template_2x2_001_SNOW_8.png")
}
alternative_sprites (spriteset_warehouses_and_buildings_1_t1_SNOW, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_2x2_t1(0,0,"gfx/warehouses_and_buildings_1_snow.png")
}

spriteset (spriteset_warehouses_and_buildings_1_t2_SNOW) {
    template_2x2_t2(0,0,"gfx/template_2x2_001_SNOW_8.png")
}
alternative_sprites (spriteset_warehouses_and_buildings_1_t2_SNOW, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_2x2_t2(0,0,"gfx/warehouses_and_buildings_1_snow.png")
}

spriteset (spriteset_warehouses_and_buildings_1_t3_SNOW) {
    template_2x2_t3(0,0,"gfx/template_2x2_001_SNOW_8.png")
}
alternative_sprites (spriteset_warehouses_and_buildings_1_t3_SNOW, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_2x2_t3(0,0,"gfx/warehouses_and_buildings_1_snow.png")
}

spriteset (spriteset_warehouses_and_buildings_1_t4_SNOW) {
    template_2x2_t4(0,0,"gfx/template_2x2_001_SNOW_8.png")
}
alternative_sprites (spriteset_warehouses_and_buildings_1_t4_SNOW, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_2x2_t4(0,0,"gfx/warehouses_and_buildings_1_snow.png")
}
//purchase
spriteset (spriteset_warehouses_and_buildings_1_PURCHASE) {
    template_2x2_purchase(0,0,"gfx/template_2x2_001_PURCHASE_8.png")
}
alternative_sprites (spriteset_warehouses_and_buildings_1_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_2x2_purchase(0,0,"gfx/warehouses_and_buildings_1.png")
}

//View_1
spritelayout spritelayout_warehouses_and_buildings_1_t1_view1 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_warehouses_and_buildings_1_t1(0);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_warehouses_and_buildings_1_t1_SNOW(0);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_warehouses_and_buildings_1_t2_view1 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_warehouses_and_buildings_1_t2(0);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_warehouses_and_buildings_1_t2_SNOW(0);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_warehouses_and_buildings_1_t3_view1 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_warehouses_and_buildings_1_t3(0);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_warehouses_and_buildings_1_t3_SNOW(0);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_warehouses_and_buildings_1_t4_view1 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_warehouses_and_buildings_1_t4(0);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_warehouses_and_buildings_1_t4_SNOW(0);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_warehouses_and_buildings_1_view1_purchase {
	ground {
        sprite: GROUNDSPRITE_NORMAL;
	}
	building {
		sprite: spriteset_warehouses_and_buildings_1_PURCHASE(0);
		xoffset: 0; //from NE edge
                yoffset: 16; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
	}
}

//View_2
spritelayout spritelayout_warehouses_and_buildings_1_t1_view2 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_warehouses_and_buildings_1_t1(1);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_warehouses_and_buildings_1_t1_SNOW(1);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_warehouses_and_buildings_1_t2_view2 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_warehouses_and_buildings_1_t2(1);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_warehouses_and_buildings_1_t2_SNOW(1);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_warehouses_and_buildings_1_t3_view2 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_warehouses_and_buildings_1_t3(1);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_warehouses_and_buildings_1_t3_SNOW(1);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_warehouses_and_buildings_1_t4_view2 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_warehouses_and_buildings_1_t4(1);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_warehouses_and_buildings_1_t4_SNOW(1);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_warehouses_and_buildings_1_view2_purchase {
	ground {
        sprite: GROUNDSPRITE_NORMAL;
	}
	building {
		sprite: spriteset_warehouses_and_buildings_1_PURCHASE(1);
		xoffset: 0; //from NE edge
                yoffset: 16; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
	}
}


//View_3
spritelayout spritelayout_warehouses_and_buildings_1_t1_view3 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_warehouses_and_buildings_1_t1(2);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_warehouses_and_buildings_1_t1_SNOW(2);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_warehouses_and_buildings_1_t2_view3 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_warehouses_and_buildings_1_t2(2);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_warehouses_and_buildings_1_t2_SNOW(2);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_warehouses_and_buildings_1_t3_view3 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_warehouses_and_buildings_1_t3(2);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_warehouses_and_buildings_1_t3_SNOW(2);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_warehouses_and_buildings_1_t4_view3 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_warehouses_and_buildings_1_t4(2);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_warehouses_and_buildings_1_t4_SNOW(2);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_warehouses_and_buildings_1_view3_purchase {
	ground {
        sprite: GROUNDSPRITE_NORMAL;
	}
	building {
		sprite: spriteset_warehouses_and_buildings_1_PURCHASE(2);
		xoffset: 0; //from NE edge
                yoffset: 16; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
	}
}


//View_4
spritelayout spritelayout_warehouses_and_buildings_1_t1_view4 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_warehouses_and_buildings_1_t1(3);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_warehouses_and_buildings_1_t1_SNOW(3);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_warehouses_and_buildings_1_t2_view4 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_warehouses_and_buildings_1_t2(3);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_warehouses_and_buildings_1_t2_SNOW(3);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_warehouses_and_buildings_1_t3_view4 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_warehouses_and_buildings_1_t3(3);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_warehouses_and_buildings_1_t3_SNOW(3);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_warehouses_and_buildings_1_t4_view4 {
    ground {
      // normal ground sprite - always draw
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
   }
    
    building {
        sprite: spriteset_warehouses_and_buildings_1_t4(3);
        hide_sprite: nearby_tile_height(0, 0) >= snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }



building {
        sprite: spriteset_warehouses_and_buildings_1_t4_SNOW(3);
        hide_sprite: nearby_tile_height(0, 0) < snowline_height;
        xoffset: 0; //from NE edge
        yoffset: 0; //from NW edge
        zoffset: 0;
        xextent: 16;
        yextent: 16;
        zextent: 16;
    }

}

spritelayout spritelayout_warehouses_and_buildings_1_view4_purchase {
	ground {
        sprite: GROUNDSPRITE_NORMAL;
	}
	building {
		sprite: spriteset_warehouses_and_buildings_1_PURCHASE(3);
		xoffset: 0; //from NE edge
                yoffset: 16; //from NW edge
                zoffset: 0;
                xextent: 16;
                yextent: 16;
                zextent: 16;
	}
}




//select correct sprites for position of the tiles for the four views
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_1_position_view1, relative_pos) {
	relative_coord(0, 0): spritelayout_warehouses_and_buildings_1_t1_view1;
	relative_coord(0, 1): spritelayout_warehouses_and_buildings_1_t2_view1;
	relative_coord(1, 0): spritelayout_warehouses_and_buildings_1_t3_view1;
	relative_coord(1, 1): spritelayout_warehouses_and_buildings_1_t4_view1;
    spritelayout_warehouses_and_buildings_1_t1_view1;
    }

switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_1_position_view2, relative_pos) {
	relative_coord(0, 0): spritelayout_warehouses_and_buildings_1_t1_view2;
	relative_coord(0, 1): spritelayout_warehouses_and_buildings_1_t2_view2;
	relative_coord(1, 0): spritelayout_warehouses_and_buildings_1_t3_view2;
	relative_coord(1, 1): spritelayout_warehouses_and_buildings_1_t4_view2;
    spritelayout_warehouses_and_buildings_1_t1_view2;
    }

switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_1_position_view3, relative_pos) {
	relative_coord(0, 0): spritelayout_warehouses_and_buildings_1_t1_view3;
	relative_coord(0, 1): spritelayout_warehouses_and_buildings_1_t2_view3;
	relative_coord(1, 0): spritelayout_warehouses_and_buildings_1_t3_view3;
	relative_coord(1, 1): spritelayout_warehouses_and_buildings_1_t4_view3;
    spritelayout_warehouses_and_buildings_1_t1_view3;
    }

switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_1_position_view4, relative_pos) {
	relative_coord(0, 0) : spritelayout_warehouses_and_buildings_1_t1_view4;
	relative_coord(0, 1) : spritelayout_warehouses_and_buildings_1_t2_view4;
	relative_coord(1, 0) : spritelayout_warehouses_and_buildings_1_t3_view4;
	relative_coord(1, 1) : spritelayout_warehouses_and_buildings_1_t4_view4;
    spritelayout_warehouses_and_buildings_1_t1_view4;
    }
 
//decide spritelayout for each of the 4 directions
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_1_view, view) {
    1:  switch_warehouses_and_buildings_1_position_view2;
    2:  switch_warehouses_and_buildings_1_position_view3;
    3:  switch_warehouses_and_buildings_1_position_view4;
    switch_warehouses_and_buildings_1_position_view1;
}


//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_1_object, [
    STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
    STORE_TEMP( (nearby_tile_terrain_type(0,0) == TILETYPE_DESERT) * GROUNDSPRITE_DESERT, 1),
    STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 1, 0) == TILETYPE_DESERT), 1),
    STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type(-1, 0) == TILETYPE_DESERT), 1),
    STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0, 1) == TILETYPE_DESERT), 1),
    STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0,-1) == TILETYPE_DESERT), 1),
    STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * GROUNDSPRITE_NORMAL, 1),
    STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
    STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
    STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
    STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_warehouses_and_buildings_1_view;
}

//calculate ground sprite for purchase menu
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_1_purchase, view) {
    1:  spritelayout_warehouses_and_buildings_1_view2_purchase;
    2:  spritelayout_warehouses_and_buildings_1_view3_purchase;
    3:  spritelayout_warehouses_and_buildings_1_view4_purchase;
    spritelayout_warehouses_and_buildings_1_view1_purchase;
}

switch (FEAT_OBJECTS, SELF, switch_add_text_warehouses_and_buildings_1, view) {
1: string(STR_warehouses_and_buildings_1_purchase_view2);
2: string(STR_warehouses_and_buildings_1_purchase_view3);
3: string(STR_warehouses_and_buildings_1_purchase_view4);
default: string(STR_warehouses_and_buildings_1_purchase_view1);
}

item (FEAT_OBJECTS, warehouses_and_buildings_1, 201) {
    property {
        class: "WBUL";
        classname: string(STR_WBUL);
        name: string(STR_warehouses_and_buildings_1);
        climates_available: ALL_CLIMATES;
        size: [2,2];
        build_cost_multiplier: 0;
        remove_cost_multiplier: 0;
        introduction_date: date(1700,1,1);
        end_of_life_date: 0xFFFFFFFF;
        object_flags: bitmask(OBJ_FLAG_ALLOW_BRIDGE, OBJ_FLAG_ON_WATER, OBJ_FLAG_DRAW_WATER, OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME);
        height: 0;
        num_views: 4;
     }
    graphics {
        default: switch_warehouses_and_buildings_1_object;
        purchase: switch_warehouses_and_buildings_1_purchase;
        additional_text: switch_add_text_warehouses_and_buildings_1;
      }
}
////warehouses_and_buildings_2////////////
//TOP ROW NE + SNOW//
spriteset (spriteset_warehouses_and_buildings_2_1) {
    	template_tallmultipic(0,0,"gfx/normaltall_8.png")
	template_tallmultipic(70,0,"gfx/normaltall_8.png")
	template_tallmultipic(140,0,"gfx/normaltall_8.png")
	template_tallmultipic(210,0,"gfx/normaltall_8.png")
	template_tallmultipic(280,0,"gfx/normaltall_8.png")
	template_tallmultipic(350,0,"gfx/normaltall_8.png")
	template_tallmultipic(420,0,"gfx/normaltall_8.png")
	template_tallmultipic(490,0,"gfx/normaltall_8.png")
	template_tallmultipic(560,0,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_2_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_tallmultipic(0,0,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(70,0,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(140,0,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(210,0,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(280,0,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(350,0,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(420,0,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(490,0,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(560,0,"gfx/warehouses_and_buildings_2.png")
}

spriteset (spriteset_warehouses_and_buildings_2_1_snow) {
    	template_tallmultipic(0,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,0,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_2_1_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,0,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(70,0,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(140,0,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(210,0,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(280,0,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(350,0,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(420,0,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(490,0,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(560,0,"gfx/warehouses_and_buildings_2_snow.png")
}

//2ND ROW NE + SNOW//
spriteset (spriteset_warehouses_and_buildings_2_2) {
    	template_tallmultipic(0,120,"gfx/normaltall_8.png")
	template_tallmultipic(70,120,"gfx/normaltall_8.png")
	template_tallmultipic(140,120,"gfx/normaltall_8.png")
	template_tallmultipic(210,120,"gfx/normaltall_8.png")
	template_tallmultipic(280,120,"gfx/normaltall_8.png")
	template_tallmultipic(350,120,"gfx/normaltall_8.png")
	template_tallmultipic(420,120,"gfx/normaltall_8.png")
	template_tallmultipic(490,120,"gfx/normaltall_8.png")
	template_tallmultipic(560,120,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_2_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(70,120,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(140,120,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(210,120,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(280,120,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(350,120,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(420,120,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(490,120,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(560,120,"gfx/warehouses_and_buildings_2.png")
}

spriteset (spriteset_warehouses_and_buildings_2_2_snow) {
    	template_tallmultipic(0,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,120,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_2_2_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(70,120,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(140,120,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(210,120,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(280,120,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(350,120,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(420,120,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(490,120,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(560,120,"gfx/warehouses_and_buildings_2_snow.png")
}


//3RD ROW SE + SNOW//
spriteset (spriteset_warehouses_and_buildings_2_3) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_2_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(70,240,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(140,240,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(210,240,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(280,240,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(350,240,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(420,240,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(490,240,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(560,240,"gfx/warehouses_and_buildings_2.png")
}


spriteset (spriteset_warehouses_and_buildings_2_3_snow) {
    	template_tallmultipic(0,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,240,"gfx/normaltall_8_SNOW.png")
}


alternative_sprites (spriteset_warehouses_and_buildings_2_3_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(70,240,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(140,240,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(210,240,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(280,240,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(350,240,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(420,240,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(490,240,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(560,240,"gfx/warehouses_and_buildings_2_snow.png")
}


//4TH ROW + SNOW//
spriteset (spriteset_warehouses_and_buildings_2_4) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")	
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_2_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(70,360,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(140,360,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(210,360,"gfx/warehouses_and_buildings_2.png")	
	template_tallmultipic(280,360,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(350,360,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(420,360,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(490,360,"gfx/warehouses_and_buildings_2.png")
	template_tallmultipic(560,360,"gfx/warehouses_and_buildings_2.png")
}

spriteset (spriteset_warehouses_and_buildings_2_4_snow) {
    	template_tallmultipic(0,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,360,"gfx/normaltall_8_SNOW.png")	
	template_tallmultipic(280,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,360,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_2_4_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(70,360,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(140,360,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(210,360,"gfx/warehouses_and_buildings_2_snow.png")	
	template_tallmultipic(280,360,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(350,360,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(420,360,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(490,360,"gfx/warehouses_and_buildings_2_snow.png")
	template_tallmultipic(560,360,"gfx/warehouses_and_buildings_2_snow.png")
}

spriteset (spriteset_warehouses_and_buildings_2_PURCHASE) {
    template_tallmultipic_purchase(0,0,"gfx/normaltall_8_PURCHASE.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_2_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallmultipic_purchase(0,0,"gfx/warehouses_and_buildings_2_PURCHASE.png")
}


//OBJECT 1 SIMPLE tallmultipic//
//SPRITELAYOUTS//

//RURAL tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_2_1 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_2_1((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_2_1_snow((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }


}

spritelayout spritelayout_warehouses_and_buildings_2_1_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_2_PURCHASE(0);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//RURAL tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_2_2 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_2_2((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_2_2_snow((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_warehouses_and_buildings_2_2_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_2_PURCHASE(1);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//OBJECT 2 SIMPLE tallmultipic//
//tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_2_3 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_2_3((animation_frame + nearby_tile_random_bits(0,0)) % 2);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_2_3_snow((animation_frame + nearby_tile_random_bits(0,0)) % 2);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_warehouses_and_buildings_2_3_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_2_PURCHASE(2);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_2_4 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_2_4((animation_frame + nearby_tile_random_bits(0,0)) % 2);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_2_4_snow((animation_frame + nearby_tile_random_bits(0,0)) % 2);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_warehouses_and_buildings_2_4_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_2_PURCHASE(3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//decide spritelayout for each of the 4 views
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_2_view, view) {
    1:  spritelayout_warehouses_and_buildings_2_2;
    2:  spritelayout_warehouses_and_buildings_2_3;
    3:  spritelayout_warehouses_and_buildings_2_4;
    spritelayout_warehouses_and_buildings_2_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_2_object, [
        //tile slope offset in storage register 0
        STORE_TEMP(0, 0),
        //terrain type in storage register 1
        STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP( (nearby_tile_terrain_type(0,0) == TILETYPE_DESERT) * GROUNDSPRITE_DESERT, 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type(-1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0, 1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0,-1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
		STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
		STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_warehouses_and_buildings_2_view;
}

//decide spritelayout for the purchase menu
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_2_purchase, view) {
    1:  spritelayout_warehouses_and_buildings_2_2_purchase;
    2:  spritelayout_warehouses_and_buildings_2_3_purchase;
    3:  spritelayout_warehouses_and_buildings_2_4_purchase;
    spritelayout_warehouses_and_buildings_2_1_purchase;
}

switch (FEAT_OBJECTS, SELF, switch_add_text_STR_warehouses_and_buildings_2, view) {
1: string(STR_warehouses_and_buildings_2_purchase_view2);
2: string(STR_warehouses_and_buildings_2_purchase_view3);
3: string(STR_warehouses_and_buildings_2_purchase_view4);
default: string(STR_warehouses_and_buildings_2_purchase_view1);
}

item (FEAT_OBJECTS, item_warehouses_and_buildings_2, 202) {
    property {
        class:                  "WBUL";
	    classname:		        string(STR_WBUL);
        name:                   string(STR_warehouses_and_buildings_2);
        climates_available:     ALL_CLIMATES;
        size:                   [1,1];
        build_cost_multiplier:  0;
        remove_cost_multiplier: 0;
        introduction_date:      date(1111,1,1);
        end_of_life_date:       0xFFFFFFFF;
        object_flags:           bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER, OBJ_FLAG_ALLOW_BRIDGE);
//	animation_info:			[ANIMATION_LOOPING, 9];
//	animation_speed:		7;
//	animation_triggers:		3;
        height:                 1;
        num_views:              4;
    }
    graphics {
        default:            switch_warehouses_and_buildings_2_object;
        purchase:           switch_warehouses_and_buildings_2_purchase;
        autoslope:          return(CB_RESULT_AUTOSLOPE);
//      additional_text:    string(STR_tallmultipic_1_PURCHASE);
        additional_text:    switch_add_text_STR_warehouses_and_buildings_2;
	anim_control:    	return CB_RESULT_NEXT_FRAME;
	anim_next_frame: 	return CB_RESULT_NEXT_FRAME;
    }
}
////warehouses_and_buildings_3////////////
//TOP ROW NE + SNOW//
spriteset (spriteset_warehouses_and_buildings_3_1) {
    	template_tallmultipic(0,0,"gfx/normaltall_8.png")
	template_tallmultipic(70,0,"gfx/normaltall_8.png")
	template_tallmultipic(140,0,"gfx/normaltall_8.png")
	template_tallmultipic(210,0,"gfx/normaltall_8.png")
	template_tallmultipic(280,0,"gfx/normaltall_8.png")
	template_tallmultipic(350,0,"gfx/normaltall_8.png")
	template_tallmultipic(420,0,"gfx/normaltall_8.png")
	template_tallmultipic(490,0,"gfx/normaltall_8.png")
	template_tallmultipic(560,0,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_3_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_tallmultipic(0,0,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(70,0,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(140,0,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(210,0,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(280,0,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(350,0,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(420,0,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(490,0,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(560,0,"gfx/warehouses_and_buildings_3.png")
}

spriteset (spriteset_warehouses_and_buildings_3_1_snow) {
    	template_tallmultipic(0,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,0,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_3_1_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,0,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(70,0,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(140,0,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(210,0,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(280,0,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(350,0,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(420,0,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(490,0,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(560,0,"gfx/warehouses_and_buildings_3_snow.png")
}

//2ND ROW NE + SNOW//
spriteset (spriteset_warehouses_and_buildings_3_2) {
    	template_tallmultipic(0,120,"gfx/normaltall_8.png")
	template_tallmultipic(70,120,"gfx/normaltall_8.png")
	template_tallmultipic(140,120,"gfx/normaltall_8.png")
	template_tallmultipic(210,120,"gfx/normaltall_8.png")
	template_tallmultipic(280,120,"gfx/normaltall_8.png")
	template_tallmultipic(350,120,"gfx/normaltall_8.png")
	template_tallmultipic(420,120,"gfx/normaltall_8.png")
	template_tallmultipic(490,120,"gfx/normaltall_8.png")
	template_tallmultipic(560,120,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_3_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(70,120,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(140,120,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(210,120,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(280,120,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(350,120,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(420,120,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(490,120,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(560,120,"gfx/warehouses_and_buildings_3.png")
}

spriteset (spriteset_warehouses_and_buildings_3_2_snow) {
    	template_tallmultipic(0,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,120,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_3_2_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(70,120,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(140,120,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(210,120,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(280,120,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(350,120,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(420,120,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(490,120,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(560,120,"gfx/warehouses_and_buildings_3_snow.png")
}


//3RD ROW SE + SNOW//
spriteset (spriteset_warehouses_and_buildings_3_3) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_3_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(70,240,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(140,240,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(210,240,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(280,240,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(350,240,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(420,240,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(490,240,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(560,240,"gfx/warehouses_and_buildings_3.png")
}


spriteset (spriteset_warehouses_and_buildings_3_3_snow) {
    	template_tallmultipic(0,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,240,"gfx/normaltall_8_SNOW.png")
}


alternative_sprites (spriteset_warehouses_and_buildings_3_3_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(70,240,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(140,240,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(210,240,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(280,240,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(350,240,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(420,240,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(490,240,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(560,240,"gfx/warehouses_and_buildings_3_snow.png")
}


//4TH ROW + SNOW//
spriteset (spriteset_warehouses_and_buildings_3_4) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")	
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_3_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(70,360,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(140,360,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(210,360,"gfx/warehouses_and_buildings_3.png")	
	template_tallmultipic(280,360,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(350,360,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(420,360,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(490,360,"gfx/warehouses_and_buildings_3.png")
	template_tallmultipic(560,360,"gfx/warehouses_and_buildings_3.png")
}

spriteset (spriteset_warehouses_and_buildings_3_4_snow) {
    	template_tallmultipic(0,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,360,"gfx/normaltall_8_SNOW.png")	
	template_tallmultipic(280,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,360,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_3_4_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(70,360,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(140,360,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(210,360,"gfx/warehouses_and_buildings_3_snow.png")	
	template_tallmultipic(280,360,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(350,360,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(420,360,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(490,360,"gfx/warehouses_and_buildings_3_snow.png")
	template_tallmultipic(560,360,"gfx/warehouses_and_buildings_3_snow.png")
}

spriteset (spriteset_warehouses_and_buildings_3_PURCHASE) {
    template_tallmultipic_purchase(0,0,"gfx/normaltall_8_PURCHASE.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_3_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallmultipic_purchase(0,0,"gfx/warehouses_and_buildings_3_PURCHASE.png")
}


//OBJECT 1 SIMPLE tallmultipic//
//SPRITELAYOUTS//

//RURAL tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_3_1 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_3_1((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_3_1_snow((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }


}

spritelayout spritelayout_warehouses_and_buildings_3_1_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_3_PURCHASE(0);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//RURAL tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_3_2 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_3_2((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_3_2_snow((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_warehouses_and_buildings_3_2_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_3_PURCHASE(1);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//OBJECT 2 SIMPLE tallmultipic//
//tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_3_3 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_3_3((animation_frame + nearby_tile_random_bits(0,0)) % 2);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_3_3_snow((animation_frame + nearby_tile_random_bits(0,0)) % 2);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_warehouses_and_buildings_3_3_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_3_PURCHASE(2);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_3_4 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_3_4((animation_frame + nearby_tile_random_bits(0,0)) % 2);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_3_4_snow((animation_frame + nearby_tile_random_bits(0,0)) % 2);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_warehouses_and_buildings_3_4_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_3_PURCHASE(3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//decide spritelayout for each of the 4 views
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_3_view, view) {
    1:  spritelayout_warehouses_and_buildings_3_2;
    2:  spritelayout_warehouses_and_buildings_3_3;
    3:  spritelayout_warehouses_and_buildings_3_4;
    spritelayout_warehouses_and_buildings_3_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_3_object, [
        //tile slope offset in storage register 0
        STORE_TEMP(0, 0),
        //terrain type in storage register 1
        STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP( (nearby_tile_terrain_type(0,0) == TILETYPE_DESERT) * GROUNDSPRITE_DESERT, 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type(-1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0, 1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0,-1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
		STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
		STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_warehouses_and_buildings_3_view;
}

//decide spritelayout for the purchase menu
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_3_purchase, view) {
    1:  spritelayout_warehouses_and_buildings_3_2_purchase;
    2:  spritelayout_warehouses_and_buildings_3_3_purchase;
    3:  spritelayout_warehouses_and_buildings_3_4_purchase;
    spritelayout_warehouses_and_buildings_3_1_purchase;
}

switch (FEAT_OBJECTS, SELF, switch_add_text_STR_warehouses_and_buildings_3, view) {
1: string(STR_warehouses_and_buildings_3_purchase_view2);
2: string(STR_warehouses_and_buildings_3_purchase_view3);
3: string(STR_warehouses_and_buildings_3_purchase_view4);
default: string(STR_warehouses_and_buildings_3_purchase_view1);
}

item (FEAT_OBJECTS, item_warehouses_and_buildings_3, 203) {
    property {
        class:                  "WBUL";
	    classname:		        string(STR_WBUL);
        name:                   string(STR_warehouses_and_buildings_3);
        climates_available:     ALL_CLIMATES;
        size:                   [1,1];
        build_cost_multiplier:  0;
        remove_cost_multiplier: 0;
        introduction_date:      date(1111,1,1);
        end_of_life_date:       0xFFFFFFFF;
        object_flags:           bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER, OBJ_FLAG_ALLOW_BRIDGE);
//	animation_info:			[ANIMATION_LOOPING, 9];
//	animation_speed:		7;
//	animation_triggers:		3;
        height:                 1;
        num_views:              4;
    }
    graphics {
        default:            switch_warehouses_and_buildings_3_object;
        purchase:           switch_warehouses_and_buildings_3_purchase;
        autoslope:          return(CB_RESULT_AUTOSLOPE);
//      additional_text:    string(STR_tallmultipic_1_PURCHASE);
        additional_text:    switch_add_text_STR_warehouses_and_buildings_3;
	anim_control:    	return CB_RESULT_NEXT_FRAME;
	anim_next_frame: 	return CB_RESULT_NEXT_FRAME;
    }
}
////warehouses_and_buildings_4//////
//TOP ROW NE + SNOW//
spriteset (spriteset_warehouses_and_buildings_4_1) {
    	template_tallmultipic(0,0,"gfx/normaltall_8.png")
	template_tallmultipic(70,0,"gfx/normaltall_8.png")
	template_tallmultipic(140,0,"gfx/normaltall_8.png")
	template_tallmultipic(210,0,"gfx/normaltall_8.png")
	template_tallmultipic(280,0,"gfx/normaltall_8.png")
	template_tallmultipic(350,0,"gfx/normaltall_8.png")
	template_tallmultipic(420,0,"gfx/normaltall_8.png")
	template_tallmultipic(490,0,"gfx/normaltall_8.png")
	template_tallmultipic(560,0,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_4_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_tallmultipic(0,0,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(70,0,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(140,0,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(210,0,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(280,0,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(350,0,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(420,0,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(490,0,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(560,0,"gfx/warehouses_and_buildings_4.png")
}

spriteset (spriteset_warehouses_and_buildings_4_1_snow) {
    	template_tallmultipic(0,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,0,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,0,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_4_1_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,0,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(70,0,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(140,0,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(210,0,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(280,0,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(350,0,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(420,0,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(490,0,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(560,0,"gfx/warehouses_and_buildings_4_snow.png")
}

//2ND ROW NE + SNOW//
spriteset (spriteset_warehouses_and_buildings_4_2) {
    	template_tallmultipic(0,120,"gfx/normaltall_8.png")
	template_tallmultipic(70,120,"gfx/normaltall_8.png")
	template_tallmultipic(140,120,"gfx/normaltall_8.png")
	template_tallmultipic(210,120,"gfx/normaltall_8.png")
	template_tallmultipic(280,120,"gfx/normaltall_8.png")
	template_tallmultipic(350,120,"gfx/normaltall_8.png")
	template_tallmultipic(420,120,"gfx/normaltall_8.png")
	template_tallmultipic(490,120,"gfx/normaltall_8.png")
	template_tallmultipic(560,120,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_4_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(70,120,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(140,120,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(210,120,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(280,120,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(350,120,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(420,120,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(490,120,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(560,120,"gfx/warehouses_and_buildings_4.png")
}

spriteset (spriteset_warehouses_and_buildings_4_2_snow) {
    	template_tallmultipic(0,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,120,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,120,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_4_2_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,120,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(70,120,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(140,120,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(210,120,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(280,120,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(350,120,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(420,120,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(490,120,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(560,120,"gfx/warehouses_and_buildings_4_snow.png")
}


//3RD ROW SE + SNOW//
spriteset (spriteset_warehouses_and_buildings_4_3) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_4_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(70,240,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(140,240,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(210,240,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(280,240,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(350,240,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(420,240,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(490,240,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(560,240,"gfx/warehouses_and_buildings_4.png")
}


spriteset (spriteset_warehouses_and_buildings_4_3_snow) {
    	template_tallmultipic(0,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(280,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,240,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,240,"gfx/normaltall_8_SNOW.png")
}


alternative_sprites (spriteset_warehouses_and_buildings_4_3_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,240,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(70,240,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(140,240,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(210,240,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(280,240,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(350,240,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(420,240,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(490,240,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(560,240,"gfx/warehouses_and_buildings_4_snow.png")
}


//4TH ROW + SNOW//
spriteset (spriteset_warehouses_and_buildings_4_4) {
    	template_tallmultipic(0,240,"gfx/normaltall_8.png")
	template_tallmultipic(70,240,"gfx/normaltall_8.png")
	template_tallmultipic(140,240,"gfx/normaltall_8.png")
	template_tallmultipic(210,240,"gfx/normaltall_8.png")	
	template_tallmultipic(280,240,"gfx/normaltall_8.png")
	template_tallmultipic(350,240,"gfx/normaltall_8.png")
	template_tallmultipic(420,240,"gfx/normaltall_8.png")
	template_tallmultipic(490,240,"gfx/normaltall_8.png")
	template_tallmultipic(560,240,"gfx/normaltall_8.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_4_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(70,360,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(140,360,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(210,360,"gfx/warehouses_and_buildings_4.png")	
	template_tallmultipic(280,360,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(350,360,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(420,360,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(490,360,"gfx/warehouses_and_buildings_4.png")
	template_tallmultipic(560,360,"gfx/warehouses_and_buildings_4.png")
}

spriteset (spriteset_warehouses_and_buildings_4_4_snow) {
    	template_tallmultipic(0,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(70,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(140,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(210,360,"gfx/normaltall_8_SNOW.png")	
	template_tallmultipic(280,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(350,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(420,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(490,360,"gfx/normaltall_8_SNOW.png")
	template_tallmultipic(560,360,"gfx/normaltall_8_SNOW.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_4_4_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_tallmultipic(0,360,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(70,360,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(140,360,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(210,360,"gfx/warehouses_and_buildings_4_snow.png")	
	template_tallmultipic(280,360,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(350,360,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(420,360,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(490,360,"gfx/warehouses_and_buildings_4_snow.png")
	template_tallmultipic(560,360,"gfx/warehouses_and_buildings_4_snow.png")
}

spriteset (spriteset_warehouses_and_buildings_4_PURCHASE) {
    template_tallmultipic_purchase(0,0,"gfx/normaltall_8_PURCHASE.png")
}

alternative_sprites (spriteset_warehouses_and_buildings_4_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_tallmultipic_purchase(0,0,"gfx/warehouses_and_buildings_4_PURCHASE.png")
}


//OBJECT 1 SIMPLE tallmultipic//
//SPRITELAYOUTS//

//RURAL tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_4_1 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_4_1((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_4_1_snow((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }


}

spritelayout spritelayout_warehouses_and_buildings_4_1_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_4_PURCHASE(0);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//RURAL tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_4_2 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_4_2((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_4_2_snow((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_warehouses_and_buildings_4_2_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_4_PURCHASE(1);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//OBJECT 2 SIMPLE tallmultipic//
//tallmultipic LOT NE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_4_3 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_4_3((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_4_3_snow((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_warehouses_and_buildings_4_3_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_4_PURCHASE(2);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//tallmultipic LOT SE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_4_4 {
    ground {
        sprite: LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_4_4((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_4_4_snow((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 6;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_warehouses_and_buildings_4_4_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_4_PURCHASE(3);
		xextent: 16;
		yextent: 16;
		zextent: 6;
    }

}

//decide spritelayout for each of the 4 views
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_4_view, view) {
    1:  spritelayout_warehouses_and_buildings_4_2;
    2:  spritelayout_warehouses_and_buildings_4_3;
    3:  spritelayout_warehouses_and_buildings_4_4;
    spritelayout_warehouses_and_buildings_4_1;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_4_object, [
//tile slope offset in storage register 0
        STORE_TEMP(slope_to_sprite_offset(tile_slope), 0),
        //terrain type in storage register 1
//    STORE_TEMP(0, 0),
        //terrain type in storage register 1
        STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP( (nearby_tile_terrain_type(0,0) == TILETYPE_DESERT) * GROUNDSPRITE_DESERT, 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type(-1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0, 1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0,-1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
		STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
		STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_warehouses_and_buildings_4_view;
}

//decide spritelayout for the purchase menu
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_4_purchase, view) {
    1:  spritelayout_warehouses_and_buildings_4_2_purchase;
    2:  spritelayout_warehouses_and_buildings_4_3_purchase;
    3:  spritelayout_warehouses_and_buildings_4_4_purchase;
    spritelayout_warehouses_and_buildings_4_1_purchase;
}

switch (FEAT_OBJECTS, SELF, switch_add_text_STR_warehouses_and_buildings_4, view) {
1: string(STR_warehouses_and_buildings_4_purchase_view2);
2: string(STR_warehouses_and_buildings_4_purchase_view3);
3: string(STR_warehouses_and_buildings_4_purchase_view4);
default: string(STR_warehouses_and_buildings_4_purchase_view1);
}

item (FEAT_OBJECTS, item_warehouses_and_buildings_4, 204) {
    property {
        class:                  "WBUL";
	    classname:		        string(STR_WBUL);
        name:                   string(STR_warehouses_and_buildings_4);
        climates_available:     ALL_CLIMATES;
        size:                   [1,1];
        build_cost_multiplier:  0;
        remove_cost_multiplier: 0;
        introduction_date:      date(1111,1,1);
        end_of_life_date:       0xFFFFFFFF;
        object_flags:           bitmask(OBJ_FLAG_ANYTHING_REMOVE, OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ON_WATER, OBJ_FLAG_ALLOW_BRIDGE, OBJ_FLAG_DRAW_WATER, OBJ_FLAG_NO_FOUNDATIONS);
//	animation_info:			[ANIMATION_LOOPING, 9];
//	animation_speed:		7;
//	animation_triggers:		3;
        height:                 1;
        num_views:              4;
    }
    graphics {
        default:            switch_warehouses_and_buildings_4_object;
        purchase:           switch_warehouses_and_buildings_4_purchase;
        autoslope:          return(CB_RESULT_AUTOSLOPE);
//      additional_text:    string(STR_tallmultipic_1_PURCHASE);
        additional_text:    switch_add_text_STR_warehouses_and_buildings_4;
	anim_control:    	return CB_RESULT_NEXT_FRAME;
	anim_next_frame: 	return CB_RESULT_NEXT_FRAME;
    }
}
////////warehouse_and_buildings_5///////
////////overlap warehouse//////
//TEMPLATES & SPRITESETS//
template template_muitioverlaps(x,y,filename) {
    [x,	   y,      150,     140,     -74,    -73,   filename]
}


template template_muitioverlaps_purchase(x,y,filename) {
    [x+18, y+8, 130, 120, -64, -73, ANIM, filename]
    [x+162, y+8, 130, 120, -64, -73, ANIM, filename]
    [x+306, y+8, 130, 120, -64, -73, ANIM, filename]
    [x+450, y+8, 130, 120, -64, -73, ANIM, filename]

}

//TOP ROW NE + SNOW//


spriteset (spriteset_warehouses_and_buildings_5_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_muitioverlaps(0,0,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(160,0,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(320,0,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(480,0,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(640,0,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(800,0,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(960,0,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(1120,0,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(1280,0,"gfx/warehouses_and_buildings_5.png")

}

spriteset (spriteset_warehouses_and_buildings_5_1_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_muitioverlaps(0,0,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(160,0,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(320,0,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(480,0,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(640,0,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(800,0,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(960,0,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(1120,0,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(1280,0,"gfx/warehouses_and_buildings_5_snow.png")

}

//2ND ROW NE + SNOW//


spriteset (spriteset_warehouses_and_buildings_5_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_muitioverlaps(0,150,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(160,150,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(320,150,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(480,150,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(640,150,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(800,150,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(960,150,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(1120,150,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(1280,150,"gfx/warehouses_and_buildings_5.png")

}

spriteset (spriteset_warehouses_and_buildings_5_2_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_muitioverlaps(0,150,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(160,150,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(320,150,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(480,150,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(640,150,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(800,150,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(960,150,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(1120,150,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(1280,150,"gfx/warehouses_and_buildings_5_snow.png")

}

//3RD ROW SE + SNOW//

spriteset (spriteset_warehouses_and_buildings_5_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_muitioverlaps(0,300,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(160,300,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(320,300,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(480,300,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(640,300,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(800,300,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(960,300,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(1120,300,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(1280,300,"gfx/warehouses_and_buildings_5.png")
}

spriteset (spriteset_warehouses_and_buildings_5_3_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_muitioverlaps(0,300,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(160,300,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(320,300,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(480,300,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(640,300,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(800,300,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(960,300,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(1120,300,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(1280,300,"gfx/warehouses_and_buildings_5_snow.png")

}

//4TH ROW + SNOW//
spriteset (spriteset_warehouses_and_buildings_5_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_muitioverlaps(0,450,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(160,450,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(320,450,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(480,450,"gfx/warehouses_and_buildings_5.png")	
	template_muitioverlaps(640,450,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(800,450,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(960,450,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(1120,450,"gfx/warehouses_and_buildings_5.png")
	template_muitioverlaps(1280,450,"gfx/warehouses_and_buildings_5.png")
}

spriteset (spriteset_warehouses_and_buildings_5_4_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {


    	template_muitioverlaps(0,450,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(160,450,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(320,450,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(480,450,"gfx/warehouses_and_buildings_5_snow.png")	
	template_muitioverlaps(640,450,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(800,450,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(960,450,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(1120,450,"gfx/warehouses_and_buildings_5_snow.png")
	template_muitioverlaps(1280,450,"gfx/warehouses_and_buildings_5_snow.png")

}


spriteset (spriteset_warehouses_and_buildings_5_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_muitioverlaps_purchase(0,0,"gfx/warehouses_and_buildings_5_PURCHASE.png")
}


//OBJECT 1 SIMPLE warehouses_and_buildings_5//
//SPRITELAYOUTS//

//RURAL warehouses_and_buildings_5 LOT NE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_5_01 {
    ground {
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_5_1((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_5_1_snow((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }


}

spritelayout spritelayout_warehouses_and_buildings_5_01_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_5_PURCHASE(0);
		xextent: 16;
		yextent: 16;
		zextent: 16;
    }

}

//RURAL warehouses_and_buildings_5 LOT SE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_5_02 {
    ground {
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_5_2((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_5_2_snow((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_warehouses_and_buildings_5_02_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_5_PURCHASE(1);
		xextent: 16;
		yextent: 16;
		zextent: 16;
    }

}

//OBJECT 2 SIMPLE warehouses_and_buildings_5//
//warehouses_and_buildings_5 LOT NE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_5_03 {
    ground {
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_5_3((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_5_3_snow((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_warehouses_and_buildings_5_03_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_5_PURCHASE(2);
		xextent: 16;
		yextent: 16;
		zextent: 16;
    }

}

//warehouses_and_buildings_5 LOT SE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_5_04 {
    ground {
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_5_4((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_5_4_snow((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_warehouses_and_buildings_5_04_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_5_PURCHASE(3);
		xextent: 16;
		yextent: 16;
		zextent: 16;
    }

}

//decide spritelayout for each of the 4 views
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_5_1_view, view) {
    1:  spritelayout_warehouses_and_buildings_5_02;
    2:  spritelayout_warehouses_and_buildings_5_03;
    3:  spritelayout_warehouses_and_buildings_5_04;
    spritelayout_warehouses_and_buildings_5_01;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_5_1_object, [
        //tile slope offset in storage register 0
        STORE_TEMP(0, 0),
        //terrain type in storage register 1
        STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP( (nearby_tile_terrain_type(0,0) == TILETYPE_DESERT) * GROUNDSPRITE_DESERT, 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type(-1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0, 1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0,-1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
		STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
		STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_warehouses_and_buildings_5_1_view;
}

//decide spritelayout for the purchase menu
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_5_1_purchase, view) {
    1:  spritelayout_warehouses_and_buildings_5_02_purchase;
    2:  spritelayout_warehouses_and_buildings_5_03_purchase;
    3:  spritelayout_warehouses_and_buildings_5_04_purchase;
    spritelayout_warehouses_and_buildings_5_01_purchase;
}

switch (FEAT_OBJECTS, SELF, switch_add_text_STR_warehouses_and_buildings_5, view) {
1: string(STR_warehouses_and_buildings_5_purchase_view2);
2: string(STR_warehouses_and_buildings_5_purchase_view3);
3: string(STR_warehouses_and_buildings_5_purchase_view4);
default: string(STR_warehouses_and_buildings_5_purchase_view1);
}


item (FEAT_OBJECTS, item_warehouses_and_buildings_5, 205) {
    property {
        class:                  "WBUL";
	classname:		string(STR_WBUL);
        name:                   string(STR_warehouses_and_buildings_5);
        climates_available:     ALL_CLIMATES;
        size:                   [1,1];
        build_cost_multiplier:  0;
        remove_cost_multiplier: 0;
        introduction_date:      date(1111,1,1);
        end_of_life_date:       0xFFFFFFFF;
        object_flags:           bitmask(OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ALLOW_BRIDGE, OBJ_FLAG_ANYTHING_REMOVE);
        height: 0;
        num_views:              4;
    }
    graphics {
        default:            switch_warehouses_and_buildings_5_1_object;
        purchase:           switch_warehouses_and_buildings_5_1_purchase;
        autoslope:          return(CB_RESULT_AUTOSLOPE);
        additional_text: switch_add_text_STR_warehouses_and_buildings_5;
	anim_control:    	return CB_RESULT_NEXT_FRAME;
	anim_next_frame: 	return CB_RESULT_NEXT_FRAME;
    }
}

////////overlap warehouse//////
//TEMPLATES & SPRITESETS//
//TOP ROW NE + SNOW//


spriteset (spriteset_warehouses_and_buildings_6_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_muitioverlaps(0,0,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(160,0,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(320,0,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(480,0,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(640,0,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(800,0,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(960,0,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(1120,0,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(1280,0,"gfx/warehouses_and_buildings_6.png")

}

spriteset (spriteset_warehouses_and_buildings_6_1_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_muitioverlaps(0,0,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(160,0,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(320,0,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(480,0,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(640,0,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(800,0,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(960,0,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(1120,0,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(1280,0,"gfx/warehouses_and_buildings_6_snow.png")

}

//2ND ROW NE + SNOW//


spriteset (spriteset_warehouses_and_buildings_6_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_muitioverlaps(0,150,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(160,150,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(320,150,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(480,150,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(640,150,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(800,150,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(960,150,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(1120,150,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(1280,150,"gfx/warehouses_and_buildings_6.png")

}

spriteset (spriteset_warehouses_and_buildings_6_2_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_muitioverlaps(0,150,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(160,150,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(320,150,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(480,150,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(640,150,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(800,150,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(960,150,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(1120,150,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(1280,150,"gfx/warehouses_and_buildings_6_snow.png")

}

//3RD ROW SE + SNOW//

spriteset (spriteset_warehouses_and_buildings_6_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_muitioverlaps(0,300,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(160,300,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(320,300,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(480,300,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(640,300,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(800,300,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(960,300,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(1120,300,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(1280,300,"gfx/warehouses_and_buildings_6.png")
}

spriteset (spriteset_warehouses_and_buildings_6_3_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_muitioverlaps(0,300,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(160,300,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(320,300,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(480,300,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(640,300,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(800,300,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(960,300,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(1120,300,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(1280,300,"gfx/warehouses_and_buildings_6_snow.png")

}

//4TH ROW + SNOW//
spriteset (spriteset_warehouses_and_buildings_6_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_muitioverlaps(0,450,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(160,450,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(320,450,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(480,450,"gfx/warehouses_and_buildings_6.png")	
	template_muitioverlaps(640,450,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(800,450,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(960,450,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(1120,450,"gfx/warehouses_and_buildings_6.png")
	template_muitioverlaps(1280,450,"gfx/warehouses_and_buildings_6.png")
}

spriteset (spriteset_warehouses_and_buildings_6_4_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {


    	template_muitioverlaps(0,450,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(160,450,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(320,450,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(480,450,"gfx/warehouses_and_buildings_6_snow.png")	
	template_muitioverlaps(640,450,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(800,450,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(960,450,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(1120,450,"gfx/warehouses_and_buildings_6_snow.png")
	template_muitioverlaps(1280,450,"gfx/warehouses_and_buildings_6_snow.png")

}


spriteset (spriteset_warehouses_and_buildings_6_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_muitioverlaps_purchase(0,0,"gfx/warehouses_and_buildings_6_PURCHASE.png")
}


//OBJECT 1 SIMPLE warehouses_and_buildings_6//
//SPRITELAYOUTS//

//RURAL warehouses_and_buildings_6 LOT NE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_6_01 {
    ground {
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_6_1((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_6_1_snow((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }


}

spritelayout spritelayout_warehouses_and_buildings_6_01_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_6_PURCHASE(0);
		xextent: 16;
		yextent: 16;
		zextent: 16;
    }

}

//RURAL warehouses_and_buildings_6 LOT SE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_6_02 {
    ground {
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_6_2((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_6_2_snow((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_warehouses_and_buildings_6_02_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_6_PURCHASE(1);
		xextent: 16;
		yextent: 16;
		zextent: 16;
    }

}

//OBJECT 2 SIMPLE warehouses_and_buildings_6//
//warehouses_and_buildings_6 LOT NE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_6_03 {
    ground {
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_6_3((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_6_3_snow((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_warehouses_and_buildings_6_03_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_6_PURCHASE(2);
		xextent: 16;
		yextent: 16;
		zextent: 16;
    }

}

//warehouses_and_buildings_6 LOT SE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_6_04 {
    ground {
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_6_4((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_6_4_snow((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_warehouses_and_buildings_6_04_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_6_PURCHASE(3);
		xextent: 16;
		yextent: 16;
		zextent: 16;
    }

}

//decide spritelayout for each of the 4 views
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_6_1_view, view) {
    1:  spritelayout_warehouses_and_buildings_6_02;
    2:  spritelayout_warehouses_and_buildings_6_03;
    3:  spritelayout_warehouses_and_buildings_6_04;
    spritelayout_warehouses_and_buildings_6_01;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_6_1_object, [
        //tile slope offset in storage register 0
        STORE_TEMP(0, 0),
        //terrain type in storage register 1
        STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP( (nearby_tile_terrain_type(0,0) == TILETYPE_DESERT) * GROUNDSPRITE_DESERT, 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type(-1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0, 1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0,-1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
		STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
		STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_warehouses_and_buildings_6_1_view;
}

//decide spritelayout for the purchase menu
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_6_1_purchase, view) {
    1:  spritelayout_warehouses_and_buildings_6_02_purchase;
    2:  spritelayout_warehouses_and_buildings_6_03_purchase;
    3:  spritelayout_warehouses_and_buildings_6_04_purchase;
    spritelayout_warehouses_and_buildings_6_01_purchase;
}

switch (FEAT_OBJECTS, SELF, switch_add_text_STR_warehouses_and_buildings_6, view) {
1: string(STR_warehouses_and_buildings_6_purchase_view2);
2: string(STR_warehouses_and_buildings_6_purchase_view3);
3: string(STR_warehouses_and_buildings_6_purchase_view4);
default: string(STR_warehouses_and_buildings_6_purchase_view1);
}


item (FEAT_OBJECTS, item_warehouses_and_buildings_6, 206) {
    property {
        class:                  "WBUL";
	classname:		string(STR_WBUL);
        name:                   string(STR_warehouses_and_buildings_6);
        climates_available:     ALL_CLIMATES;
        size:                   [1,1];
        build_cost_multiplier:  0;
        remove_cost_multiplier: 0;
        introduction_date:      date(1111,1,1);
        end_of_life_date:       0xFFFFFFFF;
        object_flags:           bitmask(OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ALLOW_BRIDGE, OBJ_FLAG_ANYTHING_REMOVE);
        height: 0;
        num_views:              4;
    }
    graphics {
        default:            switch_warehouses_and_buildings_6_1_object;
        purchase:           switch_warehouses_and_buildings_6_1_purchase;
        autoslope:          return(CB_RESULT_AUTOSLOPE);
        additional_text: switch_add_text_STR_warehouses_and_buildings_6;
	anim_control:    	return CB_RESULT_NEXT_FRAME;
	anim_next_frame: 	return CB_RESULT_NEXT_FRAME;
    }
}

////////overlap warehouse//////
//TEMPLATES & SPRITESETS//
//TOP ROW NE + SNOW//


spriteset (spriteset_warehouses_and_buildings_7_1, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_muitioverlaps(0,0,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(160,0,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(320,0,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(480,0,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(640,0,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(800,0,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(960,0,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(1120,0,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(1280,0,"gfx/warehouses_and_buildings_7.png")

}

spriteset (spriteset_warehouses_and_buildings_7_1_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_muitioverlaps(0,0,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(160,0,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(320,0,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(480,0,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(640,0,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(800,0,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(960,0,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(1120,0,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(1280,0,"gfx/warehouses_and_buildings_7_snow.png")

}

//2ND ROW NE + SNOW//


spriteset (spriteset_warehouses_and_buildings_7_2, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_muitioverlaps(0,150,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(160,150,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(320,150,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(480,150,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(640,150,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(800,150,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(960,150,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(1120,150,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(1280,150,"gfx/warehouses_and_buildings_7.png")

}

spriteset (spriteset_warehouses_and_buildings_7_2_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_muitioverlaps(0,150,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(160,150,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(320,150,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(480,150,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(640,150,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(800,150,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(960,150,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(1120,150,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(1280,150,"gfx/warehouses_and_buildings_7_snow.png")

}

//3RD ROW SE + SNOW//

spriteset (spriteset_warehouses_and_buildings_7_3, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_muitioverlaps(0,300,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(160,300,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(320,300,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(480,300,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(640,300,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(800,300,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(960,300,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(1120,300,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(1280,300,"gfx/warehouses_and_buildings_7.png")
}

spriteset (spriteset_warehouses_and_buildings_7_3_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {

    	template_muitioverlaps(0,300,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(160,300,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(320,300,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(480,300,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(640,300,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(800,300,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(960,300,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(1120,300,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(1280,300,"gfx/warehouses_and_buildings_7_snow.png")

}

//4TH ROW + SNOW//
spriteset (spriteset_warehouses_and_buildings_7_4, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    	template_muitioverlaps(0,450,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(160,450,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(320,450,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(480,450,"gfx/warehouses_and_buildings_7.png")	
	template_muitioverlaps(640,450,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(800,450,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(960,450,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(1120,450,"gfx/warehouses_and_buildings_7.png")
	template_muitioverlaps(1280,450,"gfx/warehouses_and_buildings_7.png")
}

spriteset (spriteset_warehouses_and_buildings_7_4_snow, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {


    	template_muitioverlaps(0,450,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(160,450,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(320,450,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(480,450,"gfx/warehouses_and_buildings_7_snow.png")	
	template_muitioverlaps(640,450,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(800,450,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(960,450,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(1120,450,"gfx/warehouses_and_buildings_7_snow.png")
	template_muitioverlaps(1280,450,"gfx/warehouses_and_buildings_7_snow.png")

}


spriteset (spriteset_warehouses_and_buildings_7_PURCHASE, ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "") {
    template_muitioverlaps_purchase(0,0,"gfx/warehouses_and_buildings_7_PURCHASE.png")
}


//OBJECT 1 SIMPLE warehouses_and_buildings_7//
//SPRITELAYOUTS//

//RURAL warehouses_and_buildings_7 LOT NE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_7_01 {
    ground {
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_7_1((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_7_1_snow((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }


}

spritelayout spritelayout_warehouses_and_buildings_7_01_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_7_PURCHASE(0);
		xextent: 16;
		yextent: 16;
		zextent: 16;
    }

}

//RURAL warehouses_and_buildings_7 LOT SE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_7_02 {
    ground {
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_7_2((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_7_2_snow((animation_frame + nearby_tile_random_bits(0,0)) % 3);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_warehouses_and_buildings_7_02_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_7_PURCHASE(1);
		xextent: 16;
		yextent: 16;
		zextent: 16;
    }

}

//OBJECT 2 SIMPLE warehouses_and_buildings_7//
//warehouses_and_buildings_7 LOT NE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_7_03 {
    ground {
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_7_3((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_7_3_snow((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_warehouses_and_buildings_7_03_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_7_PURCHASE(2);
		xextent: 16;
		yextent: 16;
		zextent: 16;
    }

}

//warehouses_and_buildings_7 LOT SE + PURCHASE//
spritelayout spritelayout_warehouses_and_buildings_7_04 {
    ground {
      sprite: LOAD_TEMP(0) + LOAD_TEMP(1);
	}

	building {
        sprite: spriteset_warehouses_and_buildings_7_4((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type == TILETYPE_SNOW);
    }
	building {
        sprite: spriteset_warehouses_and_buildings_7_4_snow((animation_frame + nearby_tile_random_bits(0,0)) % 4);
		xextent: 16;
		yextent: 16;
		zextent: 16;
		hide_sprite: (terrain_type != TILETYPE_SNOW);
    }

}
spritelayout spritelayout_warehouses_and_buildings_7_04_purchase {
    ground {
        sprite: GROUNDSPRITE_NORMAL;
	}

	building {
        sprite: spriteset_warehouses_and_buildings_7_PURCHASE(3);
		xextent: 16;
		yextent: 16;
		zextent: 16;
    }

}

//decide spritelayout for each of the 4 views
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_7_1_view, view) {
    1:  spritelayout_warehouses_and_buildings_7_02;
    2:  spritelayout_warehouses_and_buildings_7_03;
    3:  spritelayout_warehouses_and_buildings_7_04;
    spritelayout_warehouses_and_buildings_7_01;
}

//calculate ground sprite for object
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_7_1_object, [
        //tile slope offset in storage register 0
        STORE_TEMP(0, 0),
        //terrain type in storage register 1
        STORE_TEMP(GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP( (nearby_tile_terrain_type(0,0) == TILETYPE_DESERT) * GROUNDSPRITE_DESERT, 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type(-1, 0) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0, 1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * 4512 * (nearby_tile_terrain_type( 0,-1) == TILETYPE_DESERT), 1),
		STORE_TEMP( LOAD_TEMP(1) + (LOAD_TEMP(1) == 0) * GROUNDSPRITE_NORMAL, 1),
		STORE_TEMP(terrain_type == TILETYPE_SNOW   ? GROUNDSPRITE_SNOW : LOAD_TEMP(1), 1),
		STORE_TEMP(snowline_height == 0xFF ? 0xFF : nearby_tile_height(0,0) - snowline_height, 127),
		STORE_TEMP((LOAD_TEMP(127) == -1) ? GROUNDSPRITE_SNOW_1_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  0) ? GROUNDSPRITE_SNOW_2_4 : LOAD_TEMP(1), 1),
		STORE_TEMP((LOAD_TEMP(127) ==  1) ? GROUNDSPRITE_SNOW_3_4 : LOAD_TEMP(1), 1)
        ]) {
    switch_warehouses_and_buildings_7_1_view;
}

//decide spritelayout for the purchase menu
switch (FEAT_OBJECTS, SELF, switch_warehouses_and_buildings_7_1_purchase, view) {
    1:  spritelayout_warehouses_and_buildings_7_02_purchase;
    2:  spritelayout_warehouses_and_buildings_7_03_purchase;
    3:  spritelayout_warehouses_and_buildings_7_04_purchase;
    spritelayout_warehouses_and_buildings_7_01_purchase;
}

switch (FEAT_OBJECTS, SELF, switch_add_text_STR_warehouses_and_buildings_7, view) {
1: string(STR_warehouses_and_buildings_7_purchase_view2);
2: string(STR_warehouses_and_buildings_7_purchase_view3);
3: string(STR_warehouses_and_buildings_7_purchase_view4);
default: string(STR_warehouses_and_buildings_7_purchase_view1);
}


item (FEAT_OBJECTS, item_warehouses_and_buildings_7, 207) {
    property {
        class:                  "WBUL";
	classname:		string(STR_WBUL);
        name:                   string(STR_warehouses_and_buildings_7);
        climates_available:     ALL_CLIMATES;
        size:                   [1,1];
        build_cost_multiplier:  0;
        remove_cost_multiplier: 0;
        introduction_date:      date(1111,1,1);
        end_of_life_date:       0xFFFFFFFF;
        object_flags:           bitmask(OBJ_FLAG_REMOVE_IS_INCOME, OBJ_FLAG_ALLOW_BRIDGE, OBJ_FLAG_ANYTHING_REMOVE);
        height: 0;
        num_views:              4;
    }
    graphics {
        default:            switch_warehouses_and_buildings_7_1_object;
        purchase:           switch_warehouses_and_buildings_7_1_purchase;
        autoslope:          return(CB_RESULT_AUTOSLOPE);
        additional_text: switch_add_text_STR_warehouses_and_buildings_7;
	anim_control:    	return CB_RESULT_NEXT_FRAME;
	anim_next_frame: 	return CB_RESULT_NEXT_FRAME;
    }
}